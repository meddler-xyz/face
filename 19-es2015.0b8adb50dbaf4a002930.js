(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"G/N7":function(e,t,n){"use strict";n.r(t),n.d(t,"ReusableComponentsModule",function(){return un});var i,o=n("mrSG"),r=n("fXoL"),s=n("ofXK");!function(e){e.INPUT_TEXT="text",e.INPUT_TEXTAREA="textarea",e.INPUT_CHECKBOX="checkbox",e.INPUT_SELECT="select",e.INPUT_RADIO="radio",e.INPUT_MULTI_SELECT="multi_select",e.INPUT_IMAGE="image",e.INPUT_FILE="file",e.INPUT_THUMBNAIL="thumbnail",e.INPUT_ICON="icon",e.TOGGLE_SWITCH="toggle",e.CHIPS="chips"}(i||(i={}));const a=[{component:"rich_text"},{component:"ip_address"},{component:"url"},{component:"file"},{component:"select"},{component:"text"},{component:"select"},{component:"video"},{component:"image"},{component:"enum"},{component:"boolean"}];i.INPUT_CHECKBOX,i.INPUT_FILE,i.INPUT_ICON,i.INPUT_IMAGE,i.INPUT_RADIO,i.INPUT_MULTI_SELECT,i.INPUT_SELECT,i.INPUT_TEXT,i.INPUT_TEXTAREA,i.INPUT_THUMBNAIL,i.TOGGLE_SWITCH,i.CHIPS;var l=n("3Pt+");class c{constructor(e="",t="",n="",i="",o=""){this.identifier=e,this.title=t,this.description=n,this.instructions=i,this.icon=o}}class d{constructor(){this.propertyDataModel={},this._properties={identifier:"",title:"",description:"",instructions:"",icon:""}}getProperties(){return Object.values(this.propertyTransfoermer())}onPropertyChange(e){e.property_identifier in this._properties&&(this._properties[e.property_identifier]=e.property_default_value)}propertyTransfoermer(){let e={property_identifier:"title",property_name:"Title",property_tyoe:i.INPUT_TEXT,property_default_value:this._properties.title},t={property_identifier:"description",property_name:"Description",property_tyoe:i.INPUT_TEXTAREA,property_default_value:this._properties.description},n={property_identifier:"identifier",property_name:"Identifier",property_tyoe:i.INPUT_TEXT,property_default_value:this._properties.identifier},o={property_identifier:"instructions",property_name:"Instructions",property_tyoe:i.INPUT_TEXTAREA,property_default_value:this._properties.instructions};return{identifier:n,icon:{property_identifier:"icon",property_name:"Icon",property_tyoe:i.INPUT_ICON,property_default_value:this._properties.icon},title:e,description:t,instructions:o}}propertyReducer(){return[]}}let p=class extends d{constructor(e){super(),this.fb=e,this.placeholder=""}ngOnInit(){}};p.ctorParameters=()=>[{type:l.c}],p=Object(o.a)([Object(r.n)({selector:"app-form-text",template:'\n<input fullWidth type="text" nbInput [placeholder]="placeholder" [value]="" >',styles:[""]})],p);var h=n("2Vo4"),u=n("pLZG"),g=n("lJxs");let b=class{constructor(){this._baseCommonProperties=new c,this.properties$=new h.a(void 0),this.selectedField$=new h.a(void 0),this.commonProperties$=this.properties$.pipe(Object(u.a)(e=>!!e),Object(g.a)(e=>e.filter(e=>e.property_identifier in this._baseCommonProperties)))}publishSelectedField(e){console.log("publishSelectedField",e),this.properties$.next(void 0),this.selectedField$.next(e)}publishSelectedFieldProperties(e){this.properties$.next(e)}};b.ctorParameters=()=>[],b=Object(o.a)([Object(r.E)({providedIn:"root"})],b);var m=n("vkgz");let f=class extends d{constructor(e,t){super(),this.cd=e,this.activeFormFieldService=t,this.editorLoading=!0,this.editorHeight=500,this.loadComponent=!1,this._properties=Object.assign(Object.assign({},super._properties),{value:"This is the value",editable:!0,toolbar:!0,report:!0,required:!0}),this.config={height:this.editorHeight,menubar:!1,icons:"thin",skin:"snow",resize:!1,placeholder:"Ask a question or post an update...",plugins:["advlist autolink lists link image charmap print codesample","preview anchor searchreplace visualblocks code","fullscreen insertdatetime media table paste","help wordcount"],toolbar:"undo redo | formatselect | bold italic |       alignleft aligncenter alignright alignjustify |       bullist numlist outdent indent | codesample",content_style:"\n@import url('https://fonts.googleapis.com/css2?family=Warnes&family=Roboto:wght@300&display=swap');\n\nbody {\n    // background-color: #2f3742;\n    // color: #dfe0e4;\n}\n\np {\n    // font-family: 'Roboto', sans-serif;\n}\n\nh2 {\n    // font-size: 32px;\n    // text-align: center;\n    // font-family: 'Warnes', cursive;\n    // color: #fff;\n    // text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px #0073e6, 0 0 20px #0073e6, 0 0 25px #0073e6, 0 0 30px #0073e6, 0 0 35px #0073e6;\n}\n  "}}ngAfterContentChecked(){this.cd.detectChanges()}ngOnInit(){this.activeFormFieldService.properties$.pipe(Object(u.a)(e=>!!e),Object(m.a)(e=>{console.debug("onPropertyChange",e),e.forEach(e=>{this.onPropertyChange(e)})})).subscribe()}onInitEditor(){this.editorLoading=!1}propertyTransfoermer(){let e={property_identifier:"report",property_name:"Include in report",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.report},t={editable:{property_identifier:"editable",property_name:"Editable",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.editable},required:{property_identifier:"required",property_name:"Required",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.required},report:e};return Object.assign(Object.assign({},super.propertyTransfoermer()),t)}getProperties(){return Object.values(this.propertyTransfoermer())}};f.ctorParameters=()=>[{type:r.k},{type:b}],f.propDecorators={editorComponent:[{type:r.pb,args:["editorComponent"]}]},f=Object(o.a)([Object(r.n)({selector:"app-form-rich-text",template:'<ng-container\n\n>\n\n\n  <div [ngStyle]="{  \'min-height\': editorHeight + \'px\' }" class="attachments editor" nbSpinnerSize="large"\n    [nbSpinner]="editorLoading">\n\n\n    <editor\n    [disabled]="!_properties.editable"\n    #editorComponent apiKey="hvixogidbngalt6ngnz11kzdko8y4nkhi1e4wd4z0d2bp6sd" initialValue=""  (onInit)="onInitEditor()"\n      [init]="config">\n    </editor>\n  </div>\n\n  \n\n</ng-container>',styles:[".preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\n.attachments {\n  margin-bottom: 2rem;\n}\n\n.editor {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.editor:hover {\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}"]})],f);let v=class extends d{constructor(e){super(),this.activeFormFieldService=e,this._properties=Object.assign(Object.assign({},super._properties),{label:"Click here to toggle?",default_value:!1})}ngOnInit(){this.activeFormFieldService.properties$.pipe(Object(g.a)(e=>null==e?[]:e),Object(m.a)(e=>{console.debug("onPropertyChange",e),e.forEach(e=>{this.onPropertyChange(e)})})).subscribe()}propertyTransfoermer(){let e={label:{property_identifier:"label",property_name:"Label",property_tyoe:i.INPUT_TEXT,property_default_value:this._properties.label},default_value:{property_identifier:"default_value",property_name:"default_value",property_tyoe:i.INPUT_CHECKBOX,property_default_value:this._properties.default_value}};return Object.assign(Object.assign({},super.propertyTransfoermer()),e)}};v.ctorParameters=()=>[{type:b}],v=Object(o.a)([Object(r.n)({selector:"app-form-boolean",template:'<div fxFlex fxLayout="column">\n\n    <div fxLayout="column" class="editor preview">\n\n\n        <nb-checkbox [checked]="_properties?.default_value"  >{{_properties?.label}}</nb-checkbox>\n\n    </div>\n</div>',styles:[""]})],v);let y=class extends d{ngOnInit(){}};y=Object(o.a)([Object(r.n)({selector:"app-form-enum",template:"<p>form-enum works!</p>\n",styles:[""]})],y);var _=n("tk/3"),x=n("7qw2"),w=n("fiuP");const S=x.a+"api/v2/";let O=class{constructor(e){this.http=e,this.initData()}initData(){this.fetchFiles(),this.fetchFormSchema()}createFile(e){return this.http.post(S+"file/create",{filename:e})}deleteFile(e){return this.http.delete(S+"file/"+e).pipe(Object(m.a)(e=>{this.fetchFiles()}))}get getFiles(){return w.a.Files.asObservable()}get getFormSchemas(){return w.a.FormSchema.asObservable()}fetchFiles(){this.http.get(S+"file").pipe(Object(m.a)(e=>{let t=e.files;w.a.Files.next(t)})).subscribe()}createFormSchema(e){return this.http.post(S+"form/schema",{form_name:e}).pipe(Object(m.a)(e=>{this.fetchFormSchema()}))}fetchFormSchemaById(e){return this.http.get(S+"form/schema/"+e)}fetchFormSchema(){return this.http.get(S+"form/schema",{}).pipe(Object(m.a)(e=>{let t=e.form_schemas;w.a.FormSchema.next(t)})).subscribe()}createFieldSchema(e,t){return this.http.post(S+`form/${e}/field/schema`,{form_id:e,component_type:t})}getFieldSchemaById(e){return this.http.get(S+"field/schema/"+e)}deleteFieldSchemaById(e,t){return this.http.delete(S+`form/${t}/field/${e}`).pipe(Object(u.a)(e=>!!e.updated))}updateFieldSchemaById(e,t){return this.http.put(S+"field/schema/"+e,t)}saveFieldProperties(e,t){return this.http.post(S+"field/schema/properties/"+e,t)}};O.ctorParameters=()=>[{type:_.b}],O=Object(o.a)([Object(r.E)({providedIn:"root"})],O);var C=n("XNiG"),D=n("nYR2");const T=x.a+"api/v2/";let I=class{constructor(e){this.http=e}renameFile(e,t){return this.http.post(T+"file/rename",{fileid:e,filename:t})}upload(e,t){let n;const i=new FormData;i.append("file",e,e.name);let o=new _.e,r=this.http.post(T+"file/upload?token="+t,i,{reportProgress:!0,observe:"events",headers:o});const s=new C.a;return r.pipe(Object(D.a)(()=>console.log("complete..."))).subscribe(e=>{if(e.type===_.d.UploadProgress){const t=Math.round(100*e.loaded/e.total);s.next({status:!1,progress:t})}else e instanceof _.f&&(s.next({status:!0,progress:100,fileData:e.body}),s.complete())}),n=s.asObservable(),n}};I.ctorParameters=()=>[{type:_.b}],I=Object(o.a)([Object(r.E)({providedIn:"root"})],I);let k=class extends d{constructor(e,t){super(),this.apiService=e,this.uploadService=t,this.files=new Set,this.files$=this.apiService.getFiles,this.uploadingFiles=[],e.getFiles.subscribe()}ngOnInit(){}addFile(){this.file.nativeElement.click()}onFilesAdded(){const e=this.file.nativeElement.files;for(let t in e)if(!isNaN(parseInt(t))){let n=e[t];this.apiService.createFile(n.name).pipe(Object(m.a)(e=>{this.uploadingFiles.push({fileData:e,file:n})})).subscribe()}}onFileDropped(e){console.log("File Dropped",e);for(let t=0;t<e.length;t++){let n=e.item(t);console.log("File Dropped",n),this.apiService.createFile(n.name).pipe(Object(m.a)(e=>{this.uploadingFiles.push({fileData:e,file:n})})).subscribe()}}};k.ctorParameters=()=>[{type:O},{type:I}],k.propDecorators={file:[{type:r.pb,args:["file"]}]},k=Object(o.a)([Object(r.n)({selector:"app-form-file",template:'<div class="margin" fxLayout="row" fxLayoutAlign="end">\n  <div>\n    <input type="file" #file style="display: none" (change)="onFilesAdded()" multiple />\n    <button fxLayoutAlign="space-evenly center" fxLayout="row" fxFlex outline size="small" status="success"\n      (click)="addFile()" class="upload-item" nbButton>\n      Add\n    </button>\n\n  </div>\n</div>\n\n<div class="preview">\n\n\n  <div class="contains" fxLayoutAlign="start space-evenly  " fxLayout="row wrap" appDnd\n    (fileDropped)="onFileDropped($event)">\n\n\n    <ng-container *ngIf="uploadingFiles.length == 0 &&  (files$ | async).length == 0 ">\n      <div class="nofiles" fxFlex fxLayoutAlign="center center" (click)="addFile()">\n        <div fxLayout="column">\n\n          <img src="assets/svg/file.svg">\n          <span class="text center"> Drop your files here to upload </span>\n\n        </div>\n\n\n      </div>\n\n    </ng-container>\n\n    <ng-container *ngFor="let file of files$ | async">\n\n\n      <div fxFlex.md="25%" fxFlex.sm="30%" fxFlex.lg="25%" fxFlex.gt-lg="20%">\n        <app-upload appBorder [fileData]="file" class="upload-item" fxFlex>\n        </app-upload>\n\n      </div>\n\n    </ng-container>\n\n\n    <ng-container *ngFor="let file of uploadingFiles">\n\n\n      <div fxFlex.md="25%" fxFlex.sm="30%" fxFlex.lg="25%" fxFlex.gt-lg="20%">\n        <app-upload appBorder [fileData]="file.fileData" [file]="file.file" class="upload-item" fxFlex>\n        </app-upload>\n\n      </div>\n\n    </ng-container>\n\n  </div>\n\n</div>\n',styles:[".preview {\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\n.fileover {\n  -webkit-animation: shake 1s;\n          animation: shake 1s;\n  -webkit-animation-iteration-count: infinite;\n          animation-iteration-count: infinite;\n}\n\n/* Shake animation */\n\n@-webkit-keyframes shake {\n  0% {\n    transform: translate(1px, 1px) rotate(0deg);\n  }\n  10% {\n    transform: translate(-1px, -2px) rotate(-1deg);\n  }\n  20% {\n    transform: translate(-3px, 0px) rotate(1deg);\n  }\n  30% {\n    transform: translate(3px, 2px) rotate(0deg);\n  }\n  40% {\n    transform: translate(1px, -1px) rotate(1deg);\n  }\n  50% {\n    transform: translate(-1px, 2px) rotate(-1deg);\n  }\n  60% {\n    transform: translate(-3px, 1px) rotate(0deg);\n  }\n  70% {\n    transform: translate(3px, 1px) rotate(-1deg);\n  }\n  80% {\n    transform: translate(-1px, -1px) rotate(1deg);\n  }\n  90% {\n    transform: translate(1px, 2px) rotate(0deg);\n  }\n  100% {\n    transform: translate(1px, -2px) rotate(-1deg);\n  }\n}\n\n@keyframes shake {\n  0% {\n    transform: translate(1px, 1px) rotate(0deg);\n  }\n  10% {\n    transform: translate(-1px, -2px) rotate(-1deg);\n  }\n  20% {\n    transform: translate(-3px, 0px) rotate(1deg);\n  }\n  30% {\n    transform: translate(3px, 2px) rotate(0deg);\n  }\n  40% {\n    transform: translate(1px, -1px) rotate(1deg);\n  }\n  50% {\n    transform: translate(-1px, 2px) rotate(-1deg);\n  }\n  60% {\n    transform: translate(-3px, 1px) rotate(0deg);\n  }\n  70% {\n    transform: translate(3px, 1px) rotate(-1deg);\n  }\n  80% {\n    transform: translate(-1px, -1px) rotate(1deg);\n  }\n  90% {\n    transform: translate(1px, 2px) rotate(0deg);\n  }\n  100% {\n    transform: translate(1px, -2px) rotate(-1deg);\n  }\n}\n\n.margin {\n  margin-top: 1rem;\n}\n\n.nofiles {\n  padding: 2rem;\n}\n\n.center {\n  text-align: center;\n  margin-top: 2rem;\n  color: silver;\n}\n\n.nofiles {\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.nofiles:hover {\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}\n\n.text {\n  font-size: 1.1rem;\n  margin: 2rem;\n  color: #fff;\n}"]})],k);let P=class extends d{ngOnInit(){}};P=Object(o.a)([Object(r.n)({selector:"app-form-image",template:"<p>form-image works!</p>\n",styles:[""]})],P);let E=class extends d{ngOnInit(){}};E=Object(o.a)([Object(r.n)({selector:"app-form-video",template:"<p>form-video works!</p>\n",styles:[""]})],E);let F=class extends d{constructor(){super(...arguments),this._properties=Object.assign(Object.assign({},super._properties),{value:"This is the value",editable:!0,toolbar:!0,report:!0,required:!0}),this.possibleOptions=[{name:"Sample Input",value:"value"}]}ngOnInit(){}add(e,t){this.possibleOptions.push({name:e.value,value:t.value})}propertyTransfoermer(){let e={property_identifier:"options",property_name:"Possible Options",property_tyoe:i.CHIPS,property_default_value:this._properties.report};return Object.assign(Object.assign({},super.propertyTransfoermer()),{possibleOptionProperties:e})}getProperties(){return Object.values(this.propertyTransfoermer())}};F=Object(o.a)([Object(r.n)({selector:"app-form-select",template:'<div fxLayout="column" fxLayoutGap="1rem">\n\n    <div fxFlex>\n\n        <nb-list>\n            <nb-list-item  *ngFor="let possiblePair of possibleOptions">\n                <div fxFlex>\n                    <nb-checkbox #checkbox fxFlex> {{possiblePair?.name}} </nb-checkbox>\n\n                </div>\n\n            </nb-list-item>\n        </nb-list>\n    </div>\n\n\n    <div fxFlex fxLayoutGap="1rem">\n        <input #nameInput fieldSize="small" placeholder="Name" nbInput>\n        <input #valueInput fieldSize="small" placeholder="Value" nbInput>\n        <button (click)="add( nameInput , valueInput )" size="small" nbButton>Add</button>\n    </div>\n\n\n</div>',styles:[":host ::ng-deep .label {\n  display: flex;\n  flex: 1;\n}\n\n.preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}"]})],F);let j=class extends d{ngOnInit(){}};j=Object(o.a)([Object(r.n)({selector:"app-form-list",template:"<p>form-list works!</p>\n",styles:[""]})],j);let L=class extends d{constructor(e,t){super(),this.fb=e,this.activeFormFieldService=t,this.autocompleteTokens=["a","console"],this._properties=Object.assign(Object.assign({},super._properties),{editable:!0,code:"\n  import { Component, OnInit } from '@angular/core';\n  import { FieldSchema } from 'src/app/reusable-components/common/abstract/BaseFieldSchema';\n  import { BaseFieldComponent } from 'src/app/reusable-components/common/abstract/BaseFormComponent';\n  \n  @Component({\n    selector: 'app-form-code',\n    templateUrl: './form-code.component.html',\n    styleUrls: ['./form-code.component.scss']\n  })\n  export class FormCodeComponent extends BaseFieldComponent  implements OnInit , FieldSchema {\n  \n    highlight = ''\n    \n    isValid(): boolean {\n      throw new Error(\"Method not implemented.\");\n    }\n  \n    ngOnInit() {\n    }\n  \n  }\n  "}),this.nodes=[{label:"Node 1"},{label:"Node 2",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3",expanded:!1,expandable:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]},{label:"Node 4",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]}]},{label:"Node 3"},{label:"Node 4",children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}],expandable:!0}]}isValid(){throw new Error("Method not implemented.")}ngOnInit(){this.activeFormFieldService.properties$.pipe(Object(g.a)(e=>null==e?[]:e),Object(m.a)(e=>{console.debug("onPropertyChange",e),e.forEach(e=>{this.onPropertyChange(e)})})).subscribe()}propertyTransfoermer(){let e={editable:{property_identifier:"editable",property_name:"Editable",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.editable},code:{property_identifier:"code",property_name:"code",property_tyoe:i.INPUT_TEXTAREA,property_default_value:this._properties.code}};return Object.assign(Object.assign({},super.propertyTransfoermer()),e)}};L.ctorParameters=()=>[{type:l.c},{type:b}],L=Object(o.a)([Object(r.n)({selector:"app-form-code",template:'\n\n<ngx-codemirror [(ngModel)]="_properties.code" [config]="{\n    lineNumbers: true,\n    lineWrapping: true,\n    theme: \'dracula\',\n    mode: {\n      name: \'javascript\',\n      json: true\n    }\n  }" [autocompleteTokens]="autocompleteTokens">\n</ngx-codemirror>\n',styles:[":host ::ng-deep .CodeMirror-scroll {\n  overflow: unset !important;\n}"]})],L);let R=class extends d{constructor(e){super(),this.fb=e,this.customizations={multiple:!0,required:!1,allow_user_to_add:!0,strict_validation:!0},this.urlPattern=/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?|^((http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/,this.formGroup=this.fb.group({urls:this.fb.array([this.fb.group({url:new l.d("",{validators:[l.n.pattern(this.urlPattern),l.n.required]})})])})}ngOnInit(){}get urls(){return this.formGroup.get("urls")}deleteUrl(e){this.urls.removeAt(e)}addUrl(){this.urls.push(this.fb.group({url:new l.d("192.168.2.2",{validators:[l.n.pattern(this.urlPattern)]})}))}};var N;R.ctorParameters=()=>[{type:l.c}],R=Object(o.a)([Object(r.n)({selector:"app-form-url",template:'<div fxFlex fxLayout="column">\n    \x3c!-- Customizations --\x3e\n    <ng-container>\n\n        <div fxFlex fxLayout="column">\n            <nb-checkbox [checked]="customizations.required " (checkedChange)="customizations.required = $event"\n                fxFlex="50%" status="success">Required</nb-checkbox>\n            <nb-checkbox [checked]="customizations.multiple " (checkedChange)="customizations.multiple = $event"\n                fxFlex="50%" status="success">Multiple</nb-checkbox>\n            <nb-checkbox [checked]="customizations.allow_user_to_add "\n                (checkedChange)="customizations.allow_user_to_add = $event" fxFlex="50%" status="success">Allow user to\n                add new URL</nb-checkbox>\n\n\n            <nb-checkbox [checked]="customizations.strict_validation "\n                (checkedChange)="customizations.strict_validation = $event" fxFlex="50%" status="success">Strict\n                Validation</nb-checkbox>\n\n        </div>\n\n    </ng-container>\n\n    \x3c!-- Preview --\x3e\n\n    <div fxLayout="column" class="preview">\n        <ng-container [formGroup]="formGroup">\n            <ng-container formArrayName="urls">\n                <ng-container   *ngFor="let url of urls.controls ; let i=index " >\n                    <div class="item" fxFlex fxLayout="row"  [formGroupName]="i" >\n                        <div fxFlex class="field">\n                            <nb-form-field  >\n\n                                <input \n\n                                [status]="url.invalid? \'danger\' :  \'success\'" fullWidth\n                                placeholder="http://example.com"\n                                \n                                fullWidth shape="semi-round"  nbInput type="text"\n                                    formControlName="url" class="form-control">\n\n                                <button [disabled]="i==0" nbSuffix nbButton ghost (click)="deleteUrl(i)">\n                                    <nb-icon pack="eva" icon="trash-outline">\n                                    </nb-icon>\n                                </button>\n                            </nb-form-field>\n\n                        </div>\n                        <ng-container>\n\n                            <div fxFlex fxLayoutAlign="end center">\n                                <p class="caption-2 status-danger"\n                                    [ngStyle]="{  \'visibility\': url.invalid ? \'visible\' : \'hidden\'   }"\n                                    >\n                                    * Invalid URL\n\n                                </p>\n                            </div>\n\n                        </ng-container>\n                    </div>\n\n                </ng-container>\n\n            </ng-container>\n\n\n            <div fxFlex fxLayoutAlign="end end">\n                <button status="primary" size="small" nbButton (click)="addUrl()">Add</button>\n            </div>\n\n\n        </ng-container>\n    </div>\n\n</div>',styles:[".preview {\n  background-color: #f4f4f4;\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\nnb-list-item {\n  padding-bottom: calc(var(--list-item-padding) / 2);\n  padding-top: 0px;\n}\n\n.item {\n  margin-bottom: 3px;\n}\n\n:host ::ng-deep .custom-checkbox {\n  width: var(--small-checkbox);\n  height: var(--small-checkbox);\n}"]})],R),function(e){e.IP_ADDRESS="ip_address",e.TEXT="text",e.RICH_TEXT="rich_text",e.BOOLEAN="boolean",e.ENUM="enum",e.FILE="file",e.IMAGE="image",e.VIDEO="video",e.SELECT="select",e.LIST="list",e.CODE="code",e.URL="url",e.CUSTOM_BUILDER="custom_form_builder",e.DOMAIN="domain",e.HOST="hosts"}(N||(N={}));let A=class extends d{constructor(e,t){super(),this.fb=e,this.activeFormFieldService=t,this.ipPattern=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,this._properties=Object.assign(Object.assign({},super._properties),{required:!1,allow_user_to_add:!0,size:"small",placeholder:"127.0.0.1"}),this.formGroup=this.fb.group({ipaddresses:this.fb.array([this.fb.group({ip_address:new l.d("",{validators:[l.n.pattern(this.ipPattern)]})})])},{validators:[this.uniqueIpAddressValidator()]})}get ipaddresses(){return this.formGroup.get("ipaddresses")}deleteIpAddress(e){this.ipaddresses.removeAt(e)}addIpAddress(){this.ipaddresses.push(this.fb.group({ip_address:new l.d("",{validators:[l.n.pattern(this.ipPattern),l.n.required]})}))}clearControlUniqueIpError(e){const t=e.errors;t&&(delete t.notUnique,Object.keys(t).length?e.setErrors(t):e.setErrors(null))}uniqueIpAddressValidator(){return e=>{let t=e.get("ipaddresses");for(let n=0;n<t.controls.length;n++)if(t.controls[n].get("ip_address").valid||t.controls[n].get("ip_address").invalid&&t.controls[n].get("ip_address").getError("notUnique"))for(let e=n+1;e<t.controls.length;e++)(t.controls[e].get("ip_address").valid||t.controls[n].get("ip_address").invalid&&t.controls[e].get("ip_address").getError("notUnique"))&&t.controls[n].get("ip_address").value==t.controls[e].get("ip_address").value?(t.controls[n].setErrors({notUnique:!0}),t.controls[e].setErrors({notUnique:!0})):(this.clearControlUniqueIpError(t.controls[n]),this.clearControlUniqueIpError(t.controls[e]))}}updateValidators(){let e=[l.n.pattern(this.ipPattern)];1==this._properties.required&&e.push(l.n.required),this.ipaddresses.at(0).get("ip_address").setValidators(e),this.ipaddresses.at(0).get("ip_address").updateValueAndValidity()}propertyTransfoermer(){let e={property_identifier:"placeholder",property_name:"Placeholder",property_tyoe:i.INPUT_TEXT,property_default_value:this._properties.placeholder},t={editable:{property_identifier:"required",property_name:"Required (Alteast one)",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.required},required:{property_identifier:"allow_user_to_add",property_name:"Allow user to add more",property_tyoe:i.TOGGLE_SWITCH,property_default_value:this._properties.allow_user_to_add},placeholder:e};return Object.assign(Object.assign({},super.propertyTransfoermer()),t)}ngOnInit(){this.activeFormFieldService.properties$.pipe(Object(g.a)(e=>null==e?[]:e),Object(m.a)(e=>{console.debug("onPropertyChange",e),e.forEach(e=>{this.onPropertyChange(e)})}),Object(m.a)(e=>{this.updateValidators()})).subscribe()}};A.ctorParameters=()=>[{type:l.c},{type:b}],A=Object(o.a)([Object(r.n)({selector:"app-form-ipaddress",template:'<div fxFlex fxLayout="column">\n\n  <div fxLayout="column" class="editor preview">\n\n    <ng-container [formGroup]="formGroup">\n\n\n\n\n      <ng-container formArrayName="ipaddresses">\n\n\n        <div  *ngIf="_properties?.allow_user_to_add" fxFlex fxLayoutAlign="end end">\n          <button status="success" outline [size]="_properties.size" nbButton (click)="addIpAddress()">Add</button>\n        </div>\n\n        <ng-container *ngFor="let ipaddress of ipaddresses.controls ; let i=index ">\n\n\n          <div class="item" fxFlex fxLayout="row" [formGroupName]="i">\n\n\n            <div fxFlex class="field">\n              <nb-form-field>\n\n                <input [fieldSize]="_properties.size" [status]="ipaddress.invalid? \'danger\' :  \'control\'" fullWidth\n                  #ipInput nbInput type="text" [placeholder]="_properties.placeholder" formControlName="ip_address">\n\n                <button [size]="_properties.size" [disabled]="i==0" nbSuffix nbButton ghost\n                  (click)="deleteIpAddress(i)">\n                  <nb-icon pack="eva" icon="trash-outline">\n                  </nb-icon>\n                </button>\n              </nb-form-field>\n\n            </div>\n            <ng-container>\n\n              <div fxFlex fxLayoutAlign="end center">\n                <p class="caption-2 status-danger"\n                  [ngStyle]="{  \'visibility\': ipaddress.invalid ? \'visible\' : \'hidden\'   }">\n\n                  <ng-container *ngIf="ipaddress.errors?.notUnique == true ; else genericError ">\n\n                    Duplicate Ip address\n                  </ng-container>\n\n                  <ng-template #genericError>\n                    * Invalid IP Address\n                  </ng-template>\n\n                </p>\n              </div>\n\n            </ng-container>\n          </div>\n\n        </ng-container>\n\n      </ng-container>\n\n\n\n\n\n    </ng-container>\n  </div>\n\n</div>\n',styles:[".form-control {\n  text-align: center;\n}\n\n.preview {\n  padding: 0.7rem;\n  border-radius: 0.7rem;\n}\n\nnb-list-item {\n  padding-bottom: calc(var(--list-item-padding) / 2);\n  padding-top: 0px;\n}\n\n.item {\n  margin-bottom: 3px;\n}\n\n:host ::ng-deep .custom-checkbox {\n  width: var(--small-checkbox);\n  height: var(--small-checkbox);\n}"]})],A);let B=class extends d{constructor(){super()}ngOnInit(){}};B.ctorParameters=()=>[],B=Object(o.a)([Object(r.n)({selector:"app-field-host",template:"<p>field-host works!</p>\n",styles:[""]})],B);let z=class extends d{constructor(){super()}ngOnInit(){}};z.ctorParameters=()=>[],z=Object(o.a)([Object(r.n)({selector:"app-field-domain",template:"<p>field-domain works!</p>\n",styles:[""]})],z);class M{static getComponentTypes(){return Array.from(M.fieldsDictionary.keys()).map(e=>({title:this.fieldsDictionary.get(e).title,type:e}))}static getComponent(e){if(M.fieldsDictionary.has(e))return M.fieldsDictionary.get(e);throw new Error("No such component found")}}M.fieldsDictionary=new Map([[N.IP_ADDRESS,{title:"Ip Address",component:A}],[N.BOOLEAN,{title:"Boolean",component:v}],[N.CODE,{title:"Code",component:L}],[N.ENUM,{title:"Enum",component:y}],[N.FILE,{title:"File",component:k}],[N.IMAGE,{title:"Image",component:P}],[N.LIST,{title:"List",component:j}],[N.RICH_TEXT,{title:"Rich Text",component:f}],[N.SELECT,{title:"Select",component:F}],[N.TEXT,{title:"Text",component:p}],[N.URL,{title:"URL",component:R}],[N.VIDEO,{title:"Video",component:E}],[N.HOST,{title:"Host",component:B}],[N.DOMAIN,{title:"Domain",component:z}]]);var H=n("HDdC"),U=n("VRyK"),$=n("LRne"),G=n("3E0/"),V=n("SxV6"),q=n("ZfaG"),W=n("aceb"),X=n("jtHE"),K=n("z6cu");const Z={target:null,action:"click",duration:650,easing:"easeInOutQuad",offset:0,offsetMap:new Map},J={easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeOutElastic:e=>Math.pow(2,-10*e)*Math.sin((e-1/4)*(2*Math.PI)/1)+1},Y=["click","mouseenter","mouseover","mousedown","mouseup","dblclick","contextmenu","wheel","mouseleave","mouseout"];function Q(e){return e===window}class ee{constructor(e,t,n,i,o,r){this.container=e,this.listenerTarget=t,this.isWindow=n,this.to=i,this.options=o,this.isBrowser=r,this.loop=()=>{this.timeLapsed+=this.tick,this.percentage=this.timeLapsed/this.options.duration,this.percentage=this.percentage>1?1:this.percentage,this.position=this.startPosition+(this.startPosition-this.to<=0?1:-1)*this.distance*J[this.options.easing](this.percentage),null!==this.lastPosition&&this.position===this.lastPosition?this.stop():(this.source$.next(this.position),this.isWindow?this.listenerTarget.scrollTo(0,Math.floor(this.position)):this.container.scrollTop=Math.floor(this.position),this.lastPosition=this.position)},this.tick=16,this.interval=null,this.lastPosition=null,this.timeLapsed=0,this.windowScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,this.container?this.startPosition=this.isWindow?this.windowScrollTop:this.container.scrollTop:this.startPosition=this.windowScrollTop,this.container&&!this.isWindow&&(this.to=this.to-this.container.getBoundingClientRect().top+this.startPosition);const s=this.startPosition-this.to;this.distance=this.container?Math.abs(this.startPosition-this.to):this.to,this.mappedOffset=this.options.offset,this.isBrowser&&this.options.offsetMap.forEach((e,t)=>this.mappedOffset=window.innerWidth>t?e:this.mappedOffset),this.distance+=this.mappedOffset*(s<=0?1:-1),this.source$=new X.a}start(){return clearInterval(this.interval),this.interval=setInterval(this.loop,this.tick),this.source$.asObservable()}stop(){clearInterval(this.interval),this.interval=null,this.source$.complete()}}let te=class{constructor(e,t){this.document=e,this.platformId=t,this.interruptiveEvents=["mousewheel","DOMMouseScroll","touchstart"]}scrollTo(e){return Object(s.B)(this.platformId)?this.start(e):(new X.a).asObservable()}start(e){const t=Object.assign(Object.assign({},Z),e);this.animation&&this.animation.stop();const n=this.getNode(t.target);if(t.target&&!n)return Object(K.a)("Unable to find Target Element");const i=this.getContainer(t,n);if(t.container&&!i)return Object(K.a)("Unable to find Container Element");const o=this.getListenerTarget(i)||window;let r=i?i.getBoundingClientRect().top:0;n&&(r=Q(o)?window.scrollY+n.getBoundingClientRect().top:n.getBoundingClientRect().top),this.animation=new ee(i,o,Q(o),r,t,Object(s.B)(this.platformId));const a=()=>this.animation.stop();this.addInterruptiveEventListeners(o,a);const l=this.animation.start();return this.subscribeToAnimation(l,o,a),l}subscribeToAnimation(e,t,n){const i=e.subscribe(()=>{},()=>{},()=>{this.removeInterruptiveEventListeners(this.interruptiveEvents,t,n),i.unsubscribe()})}getContainer(e,t){let n=null;return e.container?n=this.getNode(e.container,!0):t&&(n=this.getFirstScrollableParent(t)),n}addInterruptiveEventListeners(e,t){e||(e=window),this.interruptiveEvents.forEach(n=>e.addEventListener(n,t,!!this.supportPassive()&&{passive:!0}))}supportPassive(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>{e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(t){}return e}removeInterruptiveEventListeners(e,t,n){t||(t=window),e.forEach(e=>t.removeEventListener(e,n))}getFirstScrollableParent(e){let t=window.getComputedStyle(e);const n=/(auto|scroll|overlay)/;if("fixed"===t.position)return null;let i=e;for(;i.parentElement;)if(i=i.parentElement,t=window.getComputedStyle(i),"absolute"!==t.position&&"hidden"!==t.overflow&&"hidden"!==t.overflowY&&(n.test(t.overflow+t.overflowY)||"BODY"===i.tagName))return i;return null}getNode(e,t=!1){let n;var i;return"string"==typeof(i=e)||i instanceof String?n=!t||"body"!==e&&"BODY"!==e?this.document.getElementById(function(e){return"#"===e.substring(0,1)?e.substring(1):e}(e)):this.document.body:!function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(e)?!function(e){return e instanceof r.v}(e)?function(e){return e instanceof HTMLElement}(e)&&(n=e):n=e.nativeElement:n=this.document.getElementById(String(e)),n}getListenerTarget(e){return e?this.isDocumentBody(e)?window:e:null}isDocumentBody(e){return"BODY"===e.tagName.toUpperCase()}};te.\u0275fac=function(e){return new(e||te)(r.Xc(s.d),r.Xc(r.V))},te.\u0275prov=r.Jc({token:te,factory:function(e){return te.\u0275fac(e)}}),te.ctorParameters=()=>[{type:void 0,decorators:[{type:r.D,args:[s.d]}]},{type:void 0,decorators:[{type:r.D,args:[r.V]}]}],te=Object(o.a)([Object(o.b)(0,Object(r.D)(s.d)),Object(o.b)(1,Object(r.D)(r.V))],te);let ne=class{constructor(e,t,n){this.elementRef=e,this.scrollToService=t,this.renderer2=n,this.ngxScrollTo=Z.target,this.ngxScrollToEvent=Z.action,this.ngxScrollToDuration=Z.duration,this.ngxScrollToEasing=Z.easing,this.ngxScrollToOffset=Z.offset,this.ngxScrollToOffsetMap=Z.offsetMap}ngAfterViewInit(){if(-1===Y.indexOf(this.ngxScrollToEvent))throw new Error(`Unsupported Event '${this.ngxScrollToEvent}'`);this.renderer2.listen(this.elementRef.nativeElement,this.ngxScrollToEvent,e=>{this.options={target:this.ngxScrollTo,duration:this.ngxScrollToDuration,easing:this.ngxScrollToEasing,offset:this.ngxScrollToOffset,offsetMap:this.ngxScrollToOffsetMap},this.scrollToService.scrollTo(this.options)})}};var ie;ne.\u0275fac=function(e){return new(e||ne)(r.Nc(r.v),r.Nc(te),r.Nc(r.ab))},ne.\u0275dir=r.Ic({type:ne,selectors:[["","ngxScrollTo",""]],inputs:{ngxScrollTo:"ngxScrollTo",ngxScrollToEvent:"ngxScrollToEvent",ngxScrollToDuration:"ngxScrollToDuration",ngxScrollToEasing:"ngxScrollToEasing",ngxScrollToOffset:"ngxScrollToOffset",ngxScrollToOffsetMap:"ngxScrollToOffsetMap"}}),ne.ctorParameters=()=>[{type:r.v},{type:te},{type:r.ab}],Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollTo",void 0),Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollToEvent",void 0),Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollToDuration",void 0),Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollToEasing",void 0),Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollToOffset",void 0),Object(o.a)([Object(r.H)()],ne.prototype,"ngxScrollToOffsetMap",void 0);let oe=ie=class{static forRoot(){return{ngModule:ie,providers:[te]}}};oe.\u0275mod=r.Lc({type:oe}),oe.\u0275inj=r.Kc({factory:function(e){return new(e||oe)}}),("undefined"==typeof ngJitMode||ngJitMode)&&r.td(oe,{declarations:[ne],exports:[ne]});let re=class{constructor(e,t,n,i,o){this.componentFactoryResolver=e,this.apiService=t,this.dialogService=n,this.activeFormFieldService=i,this.scrollToService=o,this.title="Lorem ipsum dolor sit amet, numquam eleifend et pri. Duo ea sumo phaedrum pertinacia. Salutatus vulputate sea ea. Audiam feugait ne est, an paulo sanctus impedit duo, no vim vero nostrud salutatus.\n\n  Ut vel elit nonumes detraxit, errem offendit an eum. Assum corrumpit sit at, ex definiebas inciderint vix. Ei sanctus persecuti per, eu vis volumus accumsan. Nec equidem apeirian ei, esse putent regione cum in.\n  \n  Nam ea quis omnium. Eirmod audiam ex quo, pro mentitum similique eu, vis ex erat possit menandri. Te paulo primis sed, ex viderer deseruisse mel, diam natum nec id. Vidisse vivendum voluptaria ius et, cum ea facer decore. Mundi fastidii ei pri.\n  \n  Per ullum interesset ut, per no equidem ceteros consetetur. Hinc fugit feugiat mei cu. Nec laudem partem ne, graeco audiam legimus ius cu, duo putant maiestatis ne. Ea vis equidem gubergren voluptatum. Movet saepe exerci vix ei.\n  \n  Iudico probatus ne qui, te nec instructior comprehensam. Cu lucilius recteque definitiones eum, aliquip instructior theophrastus nec cu. Appetere rationibus reformidans sit ut, putant habemus concludaturque ut per. Sea eu prompta ceteros, ea adipisci iracundia reprimique eos, an cum apeirian definitionem. Sea ei urbanitas consetetur, blandit forensibus in has.",this.subtitle="Make sure all the IP Addresses are reachable from hawkI Server",this.undo_message="You have 5 more seconds to undo the change",this.field_id="",this.identifier="",this.publishing=!1,this.properties$=new h.a([]),this.dragEventListener$=new H.a,this.deleteState=!1,this.baseFormCommonProperties=new c,this.moreContextMenuItems=[{title:"Delete"},{title:"Preferences"}],this.delete$=new C.a,this.undo$=new C.a,this.destroy$=new C.a,this.undoSubscription=Object(U.a)(this.undo$,this.delete$,Object($.a)(!0).pipe(Object(G.a)(x.d))).pipe(Object(V.a)()).pipe(Object(m.a)(e=>{console.log("observer",e)})),this.deleteSubscription=this.delete$.pipe(Object(V.a)()).pipe(Object(m.a)(e=>{this.deleteState=!0})).pipe(Object(g.a)(e=>this.componentTemplate.detach(0))).pipe(Object(m.a)(e=>{this.subscriptionUndo$&&this.subscriptionUndo$.unsubscribe(),this.subscriptionUndo$=this.undoSubscription.subscribe(t=>{if(1==t)console.log("deleteConfirm",t,e),this.destroy$.next(!0);else{console.log("Undoing",t,e);this.componentTemplate.insert(e),this.initiateSubscriptions()}})}))}openDialog(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}triggerScrollTo(){this.scrollToService.scrollTo({offset:200})}ngOnInit(){this.getData(),this.dragEventListener$.pipe(Object(m.a)(e=>{console.log("scrollEvent",e)})).subscribe(),this.getProperties(),this.activeFormFieldService.commonProperties$.pipe(Object(g.a)(e=>e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.property_identifier]:t.property_default_value}),{}))).subscribe(e=>{e.instructions,this.baseFormCommonProperties=e})}getProperties(){}refreshData(){return Object(m.a)(e=>{console.log("val",e,e.title),e.title&&(this.title=e.title),e.subtitle&&(this.subtitle=e.subtitle),null!=e.published&&(this.published=e.published),null!=e.identifier&&(this.identifier=e.identifier)})}getData(){this.apiService.getFieldSchemaById(this.field_id).pipe(Object(u.a)(e=>!!e.component_type)).pipe(this.refreshData()).pipe(Object(g.a)(e=>e.component_type)).pipe(Object(m.a)(e=>{console.log("field_data",e);let t=M.getComponent(e).component;this.injectComponent(t)})).subscribe()}delete(){this.delete$.next(!0)}undo(){this.undo$.next(!1)}injectComponent(e){this.component=this.componentFactoryResolver.resolveComponentFactory(e);const t=this.componentTemplate;this.component=t.createComponent(this.component);let n=[];"function"==typeof this.component.instance.getProperties&&(n=this.component.instance.getProperties()),console.log("customProperties",n),this.properties$.next(n),this.initiateSubscriptions()}initiateSubscriptions(){this.deleteState=!1,this.subscriptionDelete$&&this.subscriptionDelete$.unsubscribe(),this.deleteSubscription.subscribe()}updateTitle(e){this.apiService.updateFieldSchemaById(this.field_id,{title:e}).pipe(this.refreshData()).subscribe()}updateIdentifier(e){this.apiService.updateFieldSchemaById(this.field_id,{identifier:e}).pipe(this.refreshData()).subscribe()}updateSubtitle(e){this.apiService.updateFieldSchemaById(this.field_id,{subtitle:e}).pipe(this.refreshData()).subscribe()}togglePublished(e){this.publishing=!0,this.apiService.updateFieldSchemaById(this.field_id,{published:e}).pipe(this.refreshData()).pipe(Object(m.a)(e=>{this.publishing=!1})).subscribe()}onPropertyChange(e){this.component&&this.component.instance.onPropertyChange(e)}test(){console.log("clicked")}};re.ctorParameters=()=>[{type:r.p},{type:O},{type:W.i},{type:b},{type:te}],re.propDecorators={componentTemplate:[{type:r.pb,args:["componentTemplate",{read:r.rb,static:!0}]}],delete$:[{type:r.T}],undo$:[{type:r.T}],destroy$:[{type:r.T}]},re=Object(o.a)([Object(r.n)({selector:"app-test-component",template:'\n\n\n<button (click)="triggerScrollTo()">\n  Go down 200 pixels\n</button>\n\n<div appLeftBorder *ngIf="baseFormCommonProperties?.description?.length > 0">\n  <span class="subtitle text-hint">{{baseFormCommonProperties?.description}}</span>\n</div>\n\n\n<div id="destination" >\n\n\n\n\n\n\n\n\n  <div *ngIf="baseFormCommonProperties?.instructions?.length > 0">\n    <ngx-tip status="notice">\n      {{baseFormCommonProperties?.instructions}}\n    </ngx-tip>\n  </div>\n\n  <div appBorder>\n    <ng-template #componentTemplate></ng-template>\n  </div>\n  \x3c!-- </ngx-section> --\x3e\n</div>\n\n\n\x3c!-- </nb-accordion-item-body>\n</nb-accordion-item> --\x3e\n\n\x3c!-- </nb-accordion> --\x3e\n\n<nb-card @init *ngIf="false" cdkDrag [cdkDragDisabled]="!(dragEventListener$ | async)">\n\n  <nb-card-header *ngIf="deleteState && false">\n\n    <div fxFlex fxLayoutAlign="end" fxLayoutGap="1rem">\n\n      <div fxFlex fxLayoutGap="1rem">\n\n        <div>\n          <span class="h6">{{undo_message}}</span>\n\n        </div>\n      </div>\n\n      <div fxLayoutGap="1rem">\n        <button size="tiny" status="primary" nbButton (click)="undo()">Undo</button>\n        <button size="tiny" status="danger" nbButton (click)="delete()">Delete</button>\n\n\n\n      </div>\n\n    </div>\n\n  </nb-card-header>\n  <nb-card-header *ngIf="false" [class.unpublishedCard]="published == false && false"\n    [class.publishedCard]="published == true" fxLayoutAlign="end center" fxLayoutGap="0rem">\n\n\n    <div fxFlex class="identifier">\n\n\n\n      <nb-form-field>\n        <input #fileldId (keyup.enter)="updateIdentifier(fileldId.value)" placeholder="Identifier" [value]="identifier"\n          fieldSize="small" nbInput>\n        <nb-icon nbPrefix icon="hash-outline" pack="eva"></nb-icon>\n      </nb-form-field>\n\n\n\n    </div>\n\n\n\n    <ng-container *ngIf="published !== undefined">\n\n      <ng-container *ngIf="published  ; else unpublishFormFieldTemplate">\n        <button size="tiny" nbButton (click)="togglePublished(false)" outline [status]="publishing?\'basic\':\'danger\'"\n          [disabled]="publishing" nbSpinnerStatus="basic" [nbSpinner]="publishing" nbSpinnerSize="tiny">\n          <nb-icon icon="checkmark-circle-2"></nb-icon>\n          Unpublish\n        </button>\n\n      </ng-container>\n\n      <ng-template #unpublishFormFieldTemplate>\n\n        <button size="tiny" nbButton (click)="togglePublished(true)" outline [status]="publishing  ?\'basic\':\'success\'"\n          [disabled]="publishing" nbSpinnerStatus="basic" [nbSpinner]="publishing" nbSpinnerSize="tiny">\n          <nb-icon icon="checkmark-circle-2"></nb-icon>\n          Publish\n        </button>\n\n      </ng-template>\n\n    </ng-container>\n\n\n\n\n    <button (click)="openDialog( settingsTemplate )" size="tiny" nbButton outline status="basic">\n      <nb-icon icon="settings-2"></nb-icon>\n    </button>\n\n\n    <ng-template #settingsTemplate>\n      <div class="popmenu">\n\n        <nb-list>\n          <nb-list-item>\n            <nb-checkbox status="success">\n              Required</nb-checkbox>\n          </nb-list-item>\n          <nb-list-item>\n\n            <nb-checkbox status="success">\n              Multiple</nb-checkbox>\n          </nb-list-item>\n          <nb-list-item>\n\n            <nb-checkbox status="success">Allow user to\n              add new URL</nb-checkbox>\n          </nb-list-item>\n        </nb-list>\n        <div fxLayoutAlign="end center">\n          <button size="tiny" status="info" nbButton (click)="delete()">Customize</button>\n          <button size="tiny" status="danger" nbButton (click)="delete()">Delete</button>\n        </div>\n        <div fxLayoutAlign="end center">\n\n\n\n          <button size="small" status="success" nbButton (click)="delete()">Save</button>\n        </div>\n\n      </div>\n    </ng-template>\n\n\n\n  </nb-card-header>\n\n  <nb-card-header *ngIf="!deleteState && false">\n\n\n\n\n\n\n    <div fxFlex fxLayout="column" fxLayoutAlign="end" fxLayoutGap="1rem">\n\n\n      <div class="headingContainer">\n        \x3c!-- <h4 class="title">{{title}}</h4> --\x3e\n\n        <div fxFlex="55">\n\n          <nb-form-field>\n            <input #titleInput (keyup.enter)="updateTitle( titleInput.value )" placeholder="Hello World"\n              fieldSize="medium" fullWidth [(ngModel)]="title" nbInput>\n            <button [disabled]="i==0" nbPrefix nbButton ghost (click)="deleteIpAddress(i)">\n              <nb-icon pack="eva" icon="edit-outline">\n              </nb-icon>\n            </button>\n          </nb-form-field>\n        </div>\n\n      </div>\n\n\n      <div class="headingContainer">\n        \x3c!-- <h6 class="subtitle-2">{{subtitle}}</h6> --\x3e\n\n        <div fxFlex="80">\n\n          <nb-form-field>\n\n\n\n            <textarea rows="3" placeholder="Enter description" #subtitleInput\n              (keyup.enter)="updateSubtitle( subtitleInput.value )" fieldSize="medium" fullWidth [(ngModel)]="subtitle"\n              nbInput>\n                        </textarea>\n\n\n\n            \x3c!-- <button [disabled]="i==0" nbPrefix nbButton ghost (click)="deleteIpAddress(i)">\n                            <nb-icon pack="eva" icon="edit-outline">\n                            </nb-icon>\n                        </button> --\x3e\n          </nb-form-field>\n        </div>\n\n      </div>\n\n\n\n\n\n\n\n    </div>\n\n  </nb-card-header>\n\n\n  <nb-card-body class="gutter">\n    <ng-template #componentTemplate></ng-template>\n  </nb-card-body>\n\n\n  \x3c!-- <nb-card-footer>\n        <span class="attachments" class="h6">Attachments</span>\n\n        <app-form-file></app-form-file>\n\n    </nb-card-footer> --\x3e\n</nb-card>\n',animations:q.a,styles:[".gutter {\n  overflow: visible;\n}\n\n.icon {\n  margin-left: 0.3rem;\n  margin-bottom: 0.8rem;\n}\n\n.attachments {\n  margin-bottom: 1rem;\n}\n\n.focussed {\n  background: none;\n}\n\n.headingContainer {\n  margin-bottom: 1rem;\n}\n\ninput {\n  font-weight: 450 !important;\n  color: #838080;\n}\n\ntextarea {\n  font-weight: 450 !important;\n  color: #838080;\n  resize: none;\n}\n\n.popmenu {\n  padding: 1rem;\n  background: #fff;\n}\n\nnb-list-item {\n  padding: 0.7rem;\n  border: none !important;\n}\n\n.unpublishedCard {\n  box-shadow: 0 2px 28px #f8cdd8, 0 4px 10px #8f9bb37a;\n  padding: 0.7rem;\n}\n\n.publishedCard {\n  box-shadow: 0 2px 28px #d5f4e1, 0 4px 10px #8f9bb37a;\n  padding: 0.7rem;\n}\n\n.identifier {\n  margin-left: 1rem;\n}\n\n.textMar {\n  margin-bottom: 1rem;\n}\n\n.iconmargin {\n  margin-left: 1rem;\n}"]})],re);var se=n("5+tZ");let ae=class{constructor(e,t){this.componentFactoryResolver=e,this.apiService=t,this.form_schema_id="",this.dragEventListener$=new h.a(!1),this.componentTypes=M.getComponentTypes()}set toggleDragAndScroll(e){this.dragEventListener$.next(e)}ngOnInit(){setTimeout(()=>{this.scrollToBottom()},2e3)}ngOnDestroy(){}addNewComponent(){}selectedChange(e){if("*"==e)return this.render("unknown");M.getComponent(e).component;this.render("unknown")}addFIeld(e){this.render(e)}render(e){r.Z.resolveAndCreate([{provide:"config",useValue:{value:"Any value or object here"}}]);const t=this.componentFactoryResolver.resolveComponentFactory(re);let n=this.componentTemplate.createComponent(t);n.instance.dragEventListener$=this.dragEventListener$.asObservable(),n.instance.field_id=e,n.instance.destroy$.pipe(Object(g.a)(t=>this.apiService.deleteFieldSchemaById(e,this.form_schema_id)),Object(se.a)(e=>e)).pipe(Object(u.a)(e=>1==e.deleted)).subscribe(e=>{console.log("Destroying permanently"),n.destroy()})}mockData(){a.forEach(e=>{let t=e.component;try{M.getComponent(t).component;this.render("unknown")}catch(n){console.error(t,"Failed",n)}})}scrollToBottom(){try{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}catch(e){console.error(e)}}reorderFormFields(e){console.log(e)}toggleReorder(){this.dragEventListener$.next(!0)}};ae.ctorParameters=()=>[{type:r.p},{type:O}],ae.propDecorators={scrollContainer:[{type:r.pb,args:["scrollContainer"]}],componentTemplate:[{type:r.pb,args:["componentTemplate",{read:r.rb,static:!0}]}],form_schema_id:[{type:r.H,args:["form_schema_id"]}],toggleDragAndScroll:[{type:r.H,args:["toggleDragAndScroll"]}]},ae=Object(o.a)([Object(r.n)({selector:"app-form-builder",template:'<div #scrollContainer cdkDropList (cdkDropListDropped)="reorderFormFields($event)">\n\n  <nb-accordion>\n    <nb-accordion-item expanded>\n      <nb-accordion-item-header>Product Details\n\n\n\n      </nb-accordion-item-header>\n      <nb-accordion-item-body>\n\n        <ng-template #componentTemplate></ng-template>\n\n      </nb-accordion-item-body>\n    </nb-accordion-item>\n  </nb-accordion>\n\n</div>\n',styles:[".gutter {\n  background-color: #edf0f4;\n  padding: 0;\n  padding: 0;\n}"]})],ae);var le=n("YUcS"),ce=n("JX91"),de=n("tyNb");let pe=class{constructor(e,t){this.apiService=e,this.activateRoute=t,this.toggleDragAndScroll=!1,this.showAutocompleteBar=!1,this.minFormNameLength=1,this.options=[],this.inputFormControl=new l.d(""),this.componentTypes=[...M.getComponentTypes(),...M.getComponentTypes(),...M.getComponentTypes()],this.formSchema={form_id:"",form_name:"",form_metadata:[],form_tags:[],field:[],public:!0,draft:!0,archived:!0,version:1},this.items=[{title:"home",link:"/",icon:"person-outline",pathMatch:"prefix"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"/dashboard"},{title:"dashboard",icon:"person-outline",pathMatch:"prefix",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"home",icon:"person-outline",link:"/"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"},{title:"dashboard",icon:"person-outline",link:"dashboard"}]}toggleScroll(){this.toggleDragAndScroll=!this.toggleDragAndScroll}ngOnInit(){this.activateRoute.params.pipe(Object(g.a)(e=>e.formid),Object(u.a)(e=>!!e),Object(g.a)(e=>this.apiService.fetchFormSchemaById(e).pipe(Object(m.a)(e=>{this.formSchema=e}),Object(m.a)(e=>{console.log("renderForm",e),e.field.forEach(e=>{this.formBuilderComponent.addFIeld(e)})}))),Object(se.a)(e=>e),Object(m.a)(e=>{})).subscribe(),w.a.FormSchema.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{console.debug("formSchema",e),this.options=e}),this.filteredControlOptions$=Object($.a)(this.options),this.filteredControlOptions$=this.inputFormControl.valueChanges.pipe(Object(u.a)(e=>!!e)).pipe(Object(ce.a)(""),Object(g.a)(e=>this.filter(e)))}filter(e){console.debug("filtering",e,typeof e);const t=e.toLowerCase();return this.options.filter(e=>e.form_name.toLowerCase().includes(t))}formAutoCompleteSelectionChanged(e){console.log("form",e),e&&""!=e&&"object"==typeof e&&(0==e[0]?(e=e[1],console.log("boom",e),this.inputFormControl.setValue(e)):(e=e[1],console.log("poom",e),this.inputFormControl.setValue(""),console.log("Create New",e),this.apiService.createFormSchema(e).subscribe()))}onFocusShift(e){this.showAutocompleteBar=e}addField(e){let t=e.type;this.apiService.createFieldSchema(this.formSchema.form_id,t).pipe(Object(u.a)(e=>!!e.field_id)).pipe(Object(m.a)(e=>{console.log("addField field_id",e.field_id),this.formBuilderComponent.addFIeld(e.field_id)})).subscribe()}renderForm(){console.log("renderForm",this.formSchema)}};pe.ctorParameters=()=>[{type:O},{type:de.a}],pe.propDecorators={formBuilderComponent:[{type:r.pb,args:["formBuilder"]}],formInput:[{type:r.pb,args:["formInput"]}]},pe=Object(o.a)([Object(r.n)({selector:"app-bootstrap",template:'<nb-layout center>\n    <nb-layout-header fixed>\n\n        <div fxFlex fxLayoutAlign="center center">\n\n            <span routerLink="/" class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n\n                SecoFlex\n\n            </span>\n\n\n            <div fxFlex fxLayoutAlign="end center">\n\n\n                <button nbButton outline status="success" size="small">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Save\n\n                </button>\n\n                <button nbButton outline status="basic" size="small">\n\n                    <nb-icon icon="settings-2-outline">\n                    </nb-icon>\n                </button>\n            </div>\n        </div>\n    </nb-layout-header>\n\n\n\n    <nb-sidebar *ngIf="true" left class="leftsidebar">\n\n        <nb-sidebar-header>\n\n            <button fxFlex nbButton hero size="medium" status="danger">Create New</button>\n\n\n        </nb-sidebar-header>\n\n        <nb-menu [items]="items">\n        </nb-menu>\n\n        <nb-sidebar-footer>\n            <button fxFlex nbButton hero size="medium" status="success">Create New</button>\n\n        </nb-sidebar-footer>\n    </nb-sidebar>\n\n\n    <nb-layout-column >\n\n\n\n\n        <app-form-builder [toggleDragAndScroll]="toggleDragAndScroll" #formBuilder\n            [form_schema_id]="formSchema.form_id"></app-form-builder>\n\n\n\n    </nb-layout-column>\n\n\n\n    <nb-sidebar *ngIf="true" right class="rightsidebar">\n\n\n\n        <nb-sidebar-header>\n\n\n\n            <button disabled nbButton hero size="medium" fxFlex status="basic">\n\n                <span fxFlex fxLayoutAlign="start center">\n                    Components\n                </span>\n\n\n\n                <button (click)="toggleScroll()" nbButton ghost [status]=" toggleDragAndScroll ?  \'danger\' : \'basic\'"\n                    size="tiny">\n\n                    <nb-icon icon="move">\n                    </nb-icon>\n                </button>\n\n                <button nbButton ghost status="basic" size="tiny">\n\n                    <nb-icon icon="eye">\n                    </nb-icon>\n                </button>\n\n\n\n            </button>\n\n\n\n\n\n\n\n        </nb-sidebar-header>\n\n        <nb-list>\n            <nb-list-item (click)="addField(componentType)" *ngFor="let componentType of componentTypes"\n                class="lisitem">\n                {{ componentType.title }}\n            </nb-list-item>\n        </nb-list>\n\n\n\n\n        <nb-sidebar-footer>\n\n\n            <button fxFlex nbButton hero size="medium" status="success">Create New</button>\n\n        </nb-sidebar-footer>\n\n\n    </nb-sidebar>\n\n</nb-layout>\n\n\n\n\n<ng-template #formAutoComplete>\n\n    <div fxFlex="25%">\n        <span class="h6">\n            Secoflex\n        </span>\n    </div>\n\n    <div fxFlex="50%">\n\n\n        <nb-form-field fxFlex appearance="filled">\n\n\n\n            <nb-icon nbPrefix size="small" ghost icon="search-outline" pack="eva">\n            </nb-icon>\n\n\n            <input (keyup.escape)=" formInput.blur() " fullWidth [formControl]="inputFormControl" nbInput type="text"\n                placeholder="Create new" fieldSize="medium" [nbAutocomplete]="autoControl" />\n\n            <button size="large" *ngIf="inputFormControl.value.length" nbSuffix nbButton ghost\n                (click)="inputFormControl.value = \'\' ">\n                <nb-icon icon="close-circle-outline" pack="eva">\n                </nb-icon>\n            </button>\n        </nb-form-field>\n\n        <nb-autocomplete (selectedChange)="formAutoCompleteSelectionChanged($event   )" #autoControl size="medium"\n            [activeFirst]="true">\n\n\n            <nb-option *ngFor="let option of filteredControlOptions$ | async" [value]="option.form_name ">\n                {{ option.form_name }}\n            </nb-option>\n        </nb-autocomplete>\n\n\n        <ng-template #searchBarTemplate>\n\n\n            <button fxLayoutAlign="start center" size="large" ghost nbButton fxFlex>\n\n                <nb-icon icon="search-outline" pack="eva">\n                </nb-icon>\n            </button>\n\n\n        </ng-template>\n    </div>\n\n    <div fxFlex="25%" fxLayoutAlign="end">\n        <nb-actions size="small">\n\n            <nb-action icon="power-outline"></nb-action>\n            <nb-action icon="person-outline"></nb-action>\n            <nb-action icon="home-outline"></nb-action>\n            <nb-action>Some Action</nb-action>\n        </nb-actions>\n\n    </div>\n\n\n</ng-template>\n\n\n<ng-template #formActionTemplate>\n    <div fxFlex="50%" fxLayoutAlign="end">\n\n        <nb-actions size="small">\n            <nb-action (click)="onFocusShift(true)" icon="search-outline"></nb-action>\n            <nb-action icon="power-outline"></nb-action>\n            <nb-action icon="person-outline"></nb-action>\n            <nb-action icon="home-outline"></nb-action>\n            <nb-action>Some Action</nb-action>\n        </nb-actions>\n    </div>\n</ng-template>',animations:q.a,styles:[":host ::ng-deep .rightsidebar {\n  margin-right: 0 !important;\n  margin-left: 0 !important;\n}\n:host ::ng-deep .rightsidebar nb-sidebar {\n  background: #fff !important;\n}\n:host ::ng-deep .rightsidebar .scrollable {\n  background-color: #fff;\n  padding-left: 3px !important;\n  padding-right: 3px !important;\n}\n:host ::ng-deep .rightsidebar .lisitem {\n  border: solid transparent;\n  font-weight: 550;\n}\n:host ::ng-deep .rightsidebar .lisitem:hover {\n  background-color: #e8f0fe;\n  color: #3573e7;\n  font-weight: 750;\n  border: solid transparent;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n:host ::ng-deep .rightsidebar nb-sidebar-footer {\n  padding: 0 !important;\n}\n:host ::ng-deep .rightsidebar nb-sidebar-header {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar {\n  background: #fff;\n}\n:host ::ng-deep .leftsidebar .layout-container {\n  background: #fafafa;\n}\n:host ::ng-deep .leftsidebar .menu-item {\n  border: none !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar-footer {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar nb-sidebar-header {\n  padding: 0 !important;\n}\n:host ::ng-deep .leftsidebar .layout-container {\n  max-width: 1440px;\n  width: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n.heading {\n  color: #383737;\n  padding-left: 1rem;\n}\n.popmenu {\n  padding: 1rem;\n  background: #fff;\n}"]})],pe);let he=class{constructor(){}ngOnInit(){}};he.ctorParameters=()=>[],he=Object(o.a)([Object(r.n)({selector:"app-form-customizer",template:"<p>form-customizer works!</p>\n",styles:[""]})],he);let ue=class extends d{constructor(e,t){super(),this.uploadService=e,this.apiService=t,this.fileUrl=x.a,this.uploading=!1,this.editMode=!1,this.uploadProgress=0,this.chaningFileName=!1,this.deleteInProgress=!1,this.createInProgress=!0}toggleEditMode(e,t=!1){return 1==t||e&&1==this.editMode?e.stopPropagation():(this.editMode=!this.editMode,void(this.editMode&&setTimeout(()=>{this.filenameInput.nativeElement.focus();let e=this.filenameInput.nativeElement.value.lastIndexOf(".");e<0&&(e=this.filenameInput.nativeElement.value.length),this.filenameInput.nativeElement.setSelectionRange(0,e)},0)))}ngOnInit(){this.file?(this.uploadObservable=this.uploadService.upload(this.file,this.fileData.token).pipe(Object(m.a)(e=>{this.createInProgress=!1,this.uploading=!0})).subscribe(e=>{1==e.status?(this.uploading=!1,this.uploadProgress=e.progress):(this.uploading=!0,this.uploadProgress=e.progress),console.log("uploadStatus",e)}),console.log("file aailable for upload")):this.createInProgress=!1}clearSelection(){window.getSelection&&window.getSelection().removeAllRanges()}setFilename(e){1!=this.chaningFileName&&(this.clearSelection(),this.chaningFileName=!0,this.uploadService.renameFile(this.fileData.fileid,e).subscribe(e=>{this.chaningFileName=!1,this.toggleEditMode(void 0)}))}onFilenameFocus(e){console.log("onFilenameFocus",e)}downloadFile(){this.fileData&&"UPLOADED"==this.fileData.state&&window.open(this.fileUrl+"api/v2/file/download/"+this.fileData.fileid,"_blank")}deleteFile(){this.fileData&&this.fileData.fileid&&(this.deleteInProgress=!0,this.apiService.deleteFile(this.fileData.fileid).subscribe(e=>{this.deleteInProgress=!1}),this.uploadObservable&&this.uploadObservable.unsubscribe())}};function ge(e,t){}ue.ctorParameters=()=>[{type:I},{type:O}],ue.propDecorators={filenameInput:[{type:r.pb,args:["filename"]}],fileData:[{type:r.H,args:["fileData"]}],file:[{type:r.H,args:["file"]}]},ue=Object(o.a)([Object(r.n)({selector:"app-upload",template:'<ng-container *ngIf="fileData; else fileUploadTemplate">\n\n  <div fxLayout="column">\n\n\n\n    \x3c!-- <div (click)="deleteFile()" class="flex-item" fxLayout="column" fxFlex fxLayoutAlign="center center">   </div> --\x3e\n\n\n    <div class="border" [nbSpinner]="deleteInProgress || createInProgress">\n\n\n\n\n      <nb-form-field (click)="toggleEditMode( $event  )" class="margin-nested" [nbSpinner]="chaningFileName"\n        nbSpinnerSize="tiny">\n\n\n        \x3c!-- <button *ngIf="!editMode; else saveButton" (click)="deleteFile(  )" size="tiny" nbPrefix nbButton ghost> --\x3e\n        <nb-icon icon="file-text-outline" pack="eva" nbPrefix>\n        </nb-icon>\n        \x3c!-- </button> --\x3e\n\n        <button *ngIf="!editMode; else saveButton" (click)="toggleEditMode( $event  )" size="tiny" nbSuffix nbButton\n          ghost>\n          <nb-icon icon="edit-outline" pack="eva">\n          </nb-icon>\n        </button>\n\n        <ng-template #saveButton>\n          <button (click)="setFilename( filename.value  )" size="tiny" nbSuffix nbButton ghost>\n            <nb-icon icon="checkmark-outline" pack="eva">\n            </nb-icon>\n          </button>\n\n        </ng-template>\n\n\n\n        <input (blur)="setFilename(filename.value )" (keyup.enter)="setFilename(filename.value )" #filename\n          [disabled]="!editMode || chaningFileName" [value]="fileData?.filename" class="filename" fieldSize="medium"\n          type="text" nbInput placeholder="Filename">\n\n        \x3c!-- <button nbSuffix nbButton ghost size="tiny">\n                <nb-icon icon="code-download-outline" pack="eva">\n                </nb-icon>\n            </button> --\x3e\n\n      </nb-form-field>\n\n\n      \x3c!-- [ngStyle]="{  \'visibility\': uploading ? \'visible\' : \'hidden\'   }" --\x3e\n      <div fxLayoutAlign="center center" fxFill class="bottombar progressbar  margin-nested">\n        <nb-progress-bar *ngIf="uploading ; else extension" fxFlex size="tiny" fullWidth [value]="uploadProgress" status="success">\n          {{uploadProgress}}%\n        </nb-progress-bar>\n        <ng-template #extension>\n          <div  fxFlex fxLayoutAlign="end center">\n            <span nbButton class="tag tag-small tag-bordered"> PDF</span>\n            <span nbButton (click)="deleteFile()" class="tag tag-small tag-filled"> Delete</span>\n\n          </div>\n        </ng-template>\n\n      </div>\n\n    </div>\n\n    \n  </div>\n\n</ng-container>\n\n<ng-template #fileUploadTemplate>\n  <ng-container *ngIf="file">\n    Helllo World {{file.name}}\n  </ng-container>\n</ng-template>\n',styles:['.item {\n  border-radius: 0.7rem;\n}\n\n.item:hover {\n  background-color: var(--button-filled-basic-background-color);\n}\n\n.bottombar {\n  height: 2rem;\n}\n\n.flex-item {\n  content: "";\n  float: left;\n  padding-top: 100%;\n  height: auto;\n  position: relative;\n  background-size: cover;\n  background-position: center;\n  background-image: url(/assets/svg/file.svg);\n  border-top-left-radius: 1rem;\n  border-top-right-radius: 1rem;\n}\n\n.margin {\n  margin: 4px;\n}\n\n.margin-nested {\n  margin-top: 4px;\n  margin-top: 4px;\n}\n\n.filename {\n  font-weight: 550 !important;\n  padding-left: 0.5rem;\n  border: none;\n  color: #fff !important;\n}\n\n.filename:disabled {\n  color: #fff !important;\n  font-weight: 400 !important;\n}\n\n.margin {\n  border-top-right-radius: 0.3rem;\n  border-top-left-radius: 0.3rem;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n\n.margin:hover {\n  background-color: #222b454a;\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n}']})],ue);const be=()=>{const e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null};class me{constructor(){this.onBeforePaste=new r.y,this.onBlur=new r.y,this.onClick=new r.y,this.onContextMenu=new r.y,this.onCopy=new r.y,this.onCut=new r.y,this.onDblclick=new r.y,this.onDrag=new r.y,this.onDragDrop=new r.y,this.onDragEnd=new r.y,this.onDragGesture=new r.y,this.onDragOver=new r.y,this.onDrop=new r.y,this.onFocus=new r.y,this.onFocusIn=new r.y,this.onFocusOut=new r.y,this.onKeyDown=new r.y,this.onKeyPress=new r.y,this.onKeyUp=new r.y,this.onMouseDown=new r.y,this.onMouseEnter=new r.y,this.onMouseLeave=new r.y,this.onMouseMove=new r.y,this.onMouseOut=new r.y,this.onMouseOver=new r.y,this.onMouseUp=new r.y,this.onPaste=new r.y,this.onSelectionChange=new r.y,this.onActivate=new r.y,this.onAddUndo=new r.y,this.onBeforeAddUndo=new r.y,this.onBeforeExecCommand=new r.y,this.onBeforeGetContent=new r.y,this.onBeforeRenderUI=new r.y,this.onBeforeSetContent=new r.y,this.onChange=new r.y,this.onClearUndos=new r.y,this.onDeactivate=new r.y,this.onDirty=new r.y,this.onExecCommand=new r.y,this.onGetContent=new r.y,this.onHide=new r.y,this.onInit=new r.y,this.onInitNgModel=new r.y,this.onLoadContent=new r.y,this.onNodeChange=new r.y,this.onPostProcess=new r.y,this.onPostRender=new r.y,this.onPreInit=new r.y,this.onPreProcess=new r.y,this.onProgressState=new r.y,this.onRedo=new r.y,this.onRemove=new r.y,this.onReset=new r.y,this.onSaveContent=new r.y,this.onSetAttrib=new r.y,this.onObjectResizeStart=new r.y,this.onObjectResized=new r.y,this.onObjectSelected=new r.y,this.onSetContent=new r.y,this.onShow=new r.y,this.onSubmit=new r.y,this.onUndo=new r.y,this.onVisualAid=new r.y}}me.\u0275fac=function(e){return new(e||me)},me.\u0275dir=r.Ic({type:me,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),me.propDecorators={onBeforePaste:[{type:r.T}],onBlur:[{type:r.T}],onClick:[{type:r.T}],onContextMenu:[{type:r.T}],onCopy:[{type:r.T}],onCut:[{type:r.T}],onDblclick:[{type:r.T}],onDrag:[{type:r.T}],onDragDrop:[{type:r.T}],onDragEnd:[{type:r.T}],onDragGesture:[{type:r.T}],onDragOver:[{type:r.T}],onDrop:[{type:r.T}],onFocus:[{type:r.T}],onFocusIn:[{type:r.T}],onFocusOut:[{type:r.T}],onKeyDown:[{type:r.T}],onKeyPress:[{type:r.T}],onKeyUp:[{type:r.T}],onMouseDown:[{type:r.T}],onMouseEnter:[{type:r.T}],onMouseLeave:[{type:r.T}],onMouseMove:[{type:r.T}],onMouseOut:[{type:r.T}],onMouseOver:[{type:r.T}],onMouseUp:[{type:r.T}],onPaste:[{type:r.T}],onSelectionChange:[{type:r.T}],onActivate:[{type:r.T}],onAddUndo:[{type:r.T}],onBeforeAddUndo:[{type:r.T}],onBeforeExecCommand:[{type:r.T}],onBeforeGetContent:[{type:r.T}],onBeforeRenderUI:[{type:r.T}],onBeforeSetContent:[{type:r.T}],onChange:[{type:r.T}],onClearUndos:[{type:r.T}],onDeactivate:[{type:r.T}],onDirty:[{type:r.T}],onExecCommand:[{type:r.T}],onGetContent:[{type:r.T}],onHide:[{type:r.T}],onInit:[{type:r.T}],onInitNgModel:[{type:r.T}],onLoadContent:[{type:r.T}],onNodeChange:[{type:r.T}],onPostProcess:[{type:r.T}],onPostRender:[{type:r.T}],onPreInit:[{type:r.T}],onPreProcess:[{type:r.T}],onProgressState:[{type:r.T}],onRedo:[{type:r.T}],onRemove:[{type:r.T}],onReset:[{type:r.T}],onSaveContent:[{type:r.T}],onSetAttrib:[{type:r.T}],onObjectResizeStart:[{type:r.T}],onObjectResized:[{type:r.T}],onObjectSelected:[{type:r.T}],onSetContent:[{type:r.T}],onShow:[{type:r.T}],onSubmit:[{type:r.T}],onUndo:[{type:r.T}],onVisualAid:[{type:r.T}]};const fe=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],ve=(e,t)=>{ye(e).forEach(n=>{const i=e[n];t.on(n.substring(2),n=>e.ngZone.run(()=>i.emit({event:n,editor:t})))})},ye=e=>{const t=_e(e.ignoreEvents,[]);return _e(e.allowedEvents,fe).filter(e=>fe.includes(e)&&!t.includes(e))},_e=(e,t)=>"string"==typeof e?e.split(",").map(e=>e.trim()):Array.isArray(e)?e:t;let xe=0;const we=e=>{const t=(new Date).getTime(),n=Math.floor(1e9*Math.random());return xe++,e+"_"+n+xe+String(t)},Se=e=>void 0!==e&&"textarea"===e.tagName.toLowerCase(),Oe=e=>void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" "),Ce=(e,t)=>Oe(e).concat(Oe(t)),De=()=>{},Te=e=>null==e,Ie=()=>({listeners:[],scriptId:we("tiny-script"),scriptLoaded:!1}),ke=()=>{let e=Ie();return{load:(t,n,i)=>{e.scriptLoaded?i():(e.listeners.push(i),t.getElementById(e.scriptId)||((e,t,n,i)=>{const o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n;const r=()=>{o.removeEventListener("load",r),i()};o.addEventListener("load",r),t.head&&t.head.appendChild(o)})(e.scriptId,t,n,()=>{e.listeners.forEach(e=>e()),e.scriptLoaded=!0}))},reinitialize:()=>{e=Ie()}}},Pe=ke(),Ee=new r.F("TINYMCE_SCRIPT_SRC"),Fe={provide:l.h,useExisting:Object(r.vb)(()=>je),multi:!0};class je extends me{constructor(e,t,n,i){super(),this.platformId=n,this.tinymceScriptSrc=i,this.cloudChannel="5",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=De,this.onChangeCallback=De,this._elementRef=e,this.ngZone=t,this.initialise=this.initialise.bind(this)}set disabled(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(e){this._editor&&this._editor.initialized?this._editor.setContent(Te(e)?"":e):this.initialValue=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}ngAfterViewInit(){Object(s.B)(this.platformId)&&(this.id=this.id||we("tiny-angular"),this.inline=void 0!==this.inline?"boolean"!=typeof this.inline||this.inline:this.init&&this.init.inline,this.createElement(),null!==be()?this.initialise():this._element&&this._element.ownerDocument&&Pe.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise))}ngOnDestroy(){null!==be()&&be().remove(this._editor)}createElement(){const e="string"==typeof this.tagName?this.tagName:"div";this._element=document.createElement(this.inline?e:"textarea"),this._element&&(this._element.id=this.id,Se(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}initialise(){const e=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:Ce(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:e=>{this._editor=e,e.on("init",t=>{this.initEditor(e)}),ve(this,e),this.init&&"function"==typeof this.init.setup&&this.init.setup(e)}});Se(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{be().init(e)})}getScriptSrc(){return Te(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(e){e.on("blur",()=>this.ngZone.run(()=>this.onTouchedCallback())),e.on(this.modelEvents,()=>{this.ngZone.run(()=>this.onChangeCallback(e.getContent({format:this.outputFormat})))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{e.setContent(this.initialValue),e.getContent()!==this.initialValue&&this.onChangeCallback(e.getContent({format:this.outputFormat})),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(e)})}}je.\u0275fac=function(e){return new(e||je)(r.Nc(r.v),r.Nc(r.R),r.Nc(r.V),r.Nc(Ee,8))},je.\u0275cmp=r.Hc({type:je,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[r.Bc([Fe]),r.zc],decls:1,vars:0,template:function(e,t){1&e&&r.xd(0,ge,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),je.ctorParameters=()=>[{type:r.v},{type:r.R},{type:Object,decorators:[{type:r.D,args:[r.V]}]},{type:String,decorators:[{type:r.S},{type:r.D,args:[Ee]}]}],je.ctorParameters=()=>[{type:r.v},{type:r.R},{type:Object,decorators:[{type:r.D,args:[r.V]}]},{type:String,decorators:[{type:r.S},{type:r.D,args:[Ee]}]}],je.propDecorators={disabled:[{type:r.H}],cloudChannel:[{type:r.H}],apiKey:[{type:r.H}],init:[{type:r.H}],id:[{type:r.H}],initialValue:[{type:r.H}],outputFormat:[{type:r.H}],inline:[{type:r.H}],tagName:[{type:r.H}],plugins:[{type:r.H}],toolbar:[{type:r.H}],modelEvents:[{type:r.H}],allowedEvents:[{type:r.H}],ignoreEvents:[{type:r.H}]};class Le{}Le.\u0275mod=r.Lc({type:Le}),Le.\u0275inj=r.Kc({factory:function(e){return new(e||Le)},imports:[[s.c,l.f]]}),("undefined"==typeof ngJitMode||ngJitMode)&&r.td(Le,{declarations:function(){return[je]},imports:function(){return[s.c,l.f]},exports:function(){return[je]}});let Re=class{constructor(){}ngOnInit(){}};Re.ctorParameters=()=>[],Re=Object(o.a)([Object(r.n)({selector:"app-attachment",template:"<p>attachment works!</p>\n",styles:[""]})],Re);let Ne=class{intercept(e,t){return t.handle(e).pipe(Object(G.a)(200))}};Ne=Object(o.a)([Object(r.E)()],Ne);let Ae=class{constructor(e,t){this.apiService=e,this.router=t,this._onHoverIndex=-1,this.inputFormControl=new l.d("",{validators:[l.n.min(3),l.n.required]}),this.loading=!0,this.items=this.apiService.getFormSchemas,this.filteredItems$=new h.a([])}ngOnInit(){this.apiService.getFormSchemas.pipe(Object(u.a)(e=>null!=e)).subscribe(e=>{this.items=e,this.filteredItems$.next(e),this.loading=!1})}assignCopy(){this.filteredItems$.next(Object.assign([],this.items))}filterItem(e){e||this.assignCopy(),this.filteredItems$.next(Object.assign([],this.items).filter(t=>t.form_name.toLowerCase().indexOf(e.toLowerCase())>-1))}createForm(){this.inputFormControl.valid&&this.apiService.createFormSchema(this.inputFormControl.value).subscribe(e=>{console.log(e),this.router.navigate(["/","form-builder",e.form_id])})}setOnHoverIndex(e){this._onHoverIndex=e}get hoverIndex(){return this._onHoverIndex}};Ae.ctorParameters=()=>[{type:O},{type:de.f}],Ae=Object(o.a)([Object(r.n)({selector:"app-form-creator",template:'<nb-layout center>\n\n    <nb-layout-header fixed>\n        <div fxFlex fxLayoutAlign="start center">\n\n            <span class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n                SecoFlex\n            </span>\n\n\n        </div>\n    </nb-layout-header>\n    <nb-layout-column fxLayoutAlign="center center">\n        <nb-card size="medium" fxFlex @openClose>\n\n            \x3c!-- <nb-card-header> --\x3e\n            \x3c!-- <span class="h6">Create Form</span> --\x3e\n            \x3c!-- </nb-card-header> --\x3e\n\n            <nb-card-header>\n\n                <div fxFlex fxLayoutGap="1rem">\n                    <nb-form-field filled fxFlex>\n\n                        <nb-icon nbPrefix size="large" ghost icon="search-outline" pack="eva">\n                        </nb-icon>\n                        <input [formControl]="inputFormControl" filled #searchInput\n                            (input)="filterItem(searchInput.value)" fieldSize="giant" type="text" nbInput fullWidth\n                            placeholder="Search formschema">\n                    </nb-form-field>\n\n\n                    <div fxLayoutAlign="end center" fxLayoutGap="1rem">\n                        <button (click)="createForm()" outline nbButton status="basic" size="large">\n                            Create New\n                        </button>\n\n\n                    </div>\n                </div>\n\n            </nb-card-header>\n\n\n\n\n            <nb-list [nbSpinner]="loading == true" nbSpinnerSize="large">\n                <nb-list-item (mouseover)="setOnHoverIndex(index)" (mouseout)="setOnHoverIndex(-1)" class="lisitem"\n                    [routerLink]=" [  \'/\', \'form-builder\' , option.form_id ]" @openClose\n                    *ngFor="let option of  filteredItems$  | async ; index as index">\n                    <div fxFlex fxLayoutAlign="end center">\n                        <span class="h6" fxFlex>\n                            {{ option.form_name  }}\n                            \n                        </span>\n\n                    \n\n                        <button  [ngStyle]="{  \'visibility\' :  (hoverIndex == index) ? \'visible\': \'hidden\' }"  nbButton ghost status="basic" size="large">\n\n                            <nb-icon icon="trash">\n                            </nb-icon>\n                        </button>\n                    </div>\n\n\n\n                </nb-list-item>\n            </nb-list>\n\n\n            <nb-card-footer>\n                <div fxFlex fxLayoutAlign="end" fxLayoutGap="1rem">\n                    <button nbButton ghost status="danger" size="medium">\n                        Create New\n                    </button>\n\n                    <button nbButton status="success" size="medium">\n                        Edit\n                    </button>\n                </div>\n            </nb-card-footer>\n\n\n        </nb-card>\n\n\n    </nb-layout-column>\n\n</nb-layout>',animations:[...q.a],styles:[".lisitem {\n  margin-left: 3px;\n  margin-right: 3px;\n  border: solid transparent !important;\n  border-width: 0 0 0 0;\n  font-weight: 650;\n}\n\n.lisitem:hover {\n  background-color: #e8f0fe;\n  color: #3573e7;\n  font-weight: 750;\n  border: solid transparent !important;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n  border-width: 0 0 0 0;\n}\n\nnb-list-item {\n  padding-top: 0.5rem !important;\n  padding-bottom: 0.5rem !important;\n  padding-left: 1.5rem;\n}"]})],Ae);var Be=n("vxfF"),ze=n("nLfN"),Me=n("8LU1"),He=n("quSY"),Ue=n("l5mm"),$e=n("eNwd"),Ge=n("1G5W"),Ve=n("IzEk"),qe=n("eIep"),We=n("cH1L");function Xe(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Ke(e,t){const n=t?"":"none";Xe(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Ze(e,t){const n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function Je(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function Ye(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function Qe(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function et(e,t,n){const{top:i,bottom:o,left:r,right:s}=e;return n>=i&&n<=o&&t>=r&&t<=s}function tt(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function nt(e,t,n,i){const{top:o,right:r,bottom:s,left:a,width:l,height:c}=e,d=l*t,p=c*t;return i>o-p&&i<s+p&&n>a-d&&n<r+d}class it{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:Qe(e)})})}handleScroll(e){const t=e.target,n=this.positions.get(t);if(!n)return null;const i=t===this._document?t.documentElement:t,o=n.scrollPosition;let r,s;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();r=e.top,s=e.left}else r=t.scrollTop,s=t.scrollLeft;const a=o.top-r,l=o.left-s;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&i.contains(n)&&tt(e.clientRect,a,l)}),o.top=r,o.left=s,{top:a,left:l}}}function ot(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(let o=0;o<n.length;o++)n[o].removeAttribute("id");return"canvas"===i?lt(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||at(e,t),rt("canvas",e,t,lt),rt("input, textarea, select",e,t,at),t}function rt(e,t,n,i){const o=t.querySelectorAll(e);if(o.length){const t=n.querySelectorAll(e);for(let e=0;e<o.length;e++)i(o[e],t[e])}}let st=0;function at(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${st++}`)}function lt(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(i){}}const ct=Object(ze.e)({passive:!0}),dt=Object(ze.e)({passive:!1});class pt{constructor(e,t,n,i,o,r){this._config=t,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new C.a,this._pointerMoveSubscription=He.a.EMPTY,this._pointerUpSubscription=He.a.EMPTY,this._scrollSubscription=He.a.EMPTY,this._resizeSubscription=He.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new C.a,this.started=new C.a,this.released=new C.a,this.ended=new C.a,this.entered=new C.a,this.exited=new C.a,this.dropped=new C.a,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{e.preventDefault();const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),n=this._dropContainer;if(!t)return void this._endDragSequence(e);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;if(e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement){const t=`translate(${e.x} ${e.y})`;this._rootElement.setAttribute("transform",t)}}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),this._parentPositions=new it(n,o),r.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Object(Me.b)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>Ke(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>Object(Me.d)(e)),this._handles.forEach(e=>Ke(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Object(Me.d)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,dt),t.addEventListener("touchstart",this._pointerDown,ct)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Object(Me.d)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&gt(this._rootElement),gt(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ke(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ke(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&gt(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&gt(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){bt(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,n=e.parentNode,i=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();n.insertBefore(r,e),Ze(e,!1),this._document.body.appendChild(n.replaceChild(o,e)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(i),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){t.stopPropagation();const n=this.isDragging(),i=bt(t),o=!i&&0!==t.button,r=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||o||s)return;this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=Qe(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){Ze(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(this._getPointerPositionOnPage(e)),r=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:r,distance:o}),t.drop(this,n,this._initialIndex,this._initialContainer,r,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=ht(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let i;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),i=mt(o,this._document),this._previewRef=o,e.matchSize?ft(i,t):i.style.transform=ht(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;i=ot(e),ft(i,e.getBoundingClientRect())}return Xe(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Ke(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>i.classList.add(e)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=ht(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=Ye(t,"transition-property"),i=n.find(e=>"transform"===e||"all"===e);if(!i)return 0;const o=n.indexOf(i),r=Ye(t,"transition-duration"),s=Ye(t,"transition-delay");return Je(r[o])+Je(s[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=mt(this._placeholderRef,this._document)):n=ot(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():n,r=bt(t)?t.targetTouches[0]:t,s=this._getViewportScrollPosition(),a=r.pageX-o.left-s.left,l=r.pageY-o.top-s.top;return{x:o.left-n.left+a,y:o.top-n.top+l}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=bt(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,o=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=i,t.y=o,t.matrixTransform(e.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,o=this._boundaryRect,r=this._previewRect,s=o.top+t,a=o.bottom-(r.height-t);n=ut(n,o.left+e,o.right-(r.width-e)),i=ut(i,s,a)}return{x:n,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,r=Math.abs(t-o.x),s=Math.abs(n-o.y);return r>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ke(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,dt),e.removeEventListener("touchstart",this._pointerDown,ct)}_applyRootElementTransform(e,t){const n=ht(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,r=i.right-n.right,s=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(o>0&&(e+=o),r>0&&(e-=r)):e=0,n.height>i.height?(s>0&&(t+=s),a>0&&(t-=a)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:bt(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&tt(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(ze.c)(this._rootElement)),this._cachedShadowRoot}}function ht(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function ut(e,t,n){return Math.max(t,Math.min(n,e))}function gt(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function bt(e){return"t"===e.type[0]}function mt(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const i=t.createElement("div");return n.forEach(e=>i.appendChild(e)),i}function ft(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transform=ht(t.left,t.top)}function vt(e,t){return Math.max(0,Math.min(t,e))}class yt{constructor(e,t,n,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new C.a,this.entered=new C.a,this.exited=new C.a,this.dropped=new C.a,this.sorted=new C.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=He.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new C.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Object(Ue.a)(0,$e.a).pipe(Object(Ge.a)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?xt(e,-2):2===this._verticalScrollDirection&&xt(e,2),1===this._horizontalScrollDirection?wt(e,-2):2===this._horizontalScrollDirection&&wt(e,2)})},this.element=Object(Me.d)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new it(n,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=Object(Me.d)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(e,t,n,i){let o;this.start(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,n))):o=i;const r=this._activeDraggables,s=r.indexOf(e),a=e.getPlaceholderElement();let l=r[o];if(l===e&&(l=r[o+1]),s>-1&&r.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(a,t),r.splice(o,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=r[0].getRootElement();t.parentNode.insertBefore(a,t),r.unshift(e)}else Object(Me.d)(this.element).appendChild(a),r.push(e);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,i,o,r){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:o,distance:r})}withItems(e){const t=this._draggables;if(this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()){t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()}return this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Object(Me.d)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){if(!this._isDragging)return this._draggables.indexOf(e);return _t("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,i){if(this.sortingDisabled||!nt(this._clientRect,.05,t,n))return;const o=this._itemPositions,r=this._getItemIndexFromPointerPosition(e,t,n,i);if(-1===r&&o.length>0)return;const s="horizontal"===this._orientation,a=_t(o,t=>t.drag===e),l=o[r],c=o[a].clientRect,d=l.clientRect,p=a>r?1:-1,h=this._getItemOffsetPx(c,d,p),u=this._getSiblingOffsetPx(a,o,p),g=o.slice();!function(e,t,n){const i=vt(t,e.length-1),o=vt(n,e.length-1);if(i===o)return;const r=e[i],s=o<i?-1:1;for(let a=i;a!==o;a+=s)e[a]=e[a+s];e[o]=r}(o,a,r),this.sorted.next({previousIndex:a,currentIndex:r,container:this,item:e}),o.forEach((t,n)=>{if(g[n]===t)return;const i=t.drag===e,o=i?h:u,r=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=o,s?(r.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,tt(t.clientRect,0,o)):(r.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,tt(t.clientRect,o,0))}),this._previousSwap.overlaps=et(d,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=s?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,i=0,o=0;if(this._parentPositions.positions.forEach((r,s)=>{s!==this._document&&r.clientRect&&!n&&nt(r.clientRect,.05,e,t)&&([i,o]=function(e,t,n,i){const o=St(t,i),r=Ot(t,n);let s=0,a=0;if(o){const t=e.scrollTop;1===o?t>0&&(s=1):e.scrollHeight-t>e.clientHeight&&(s=2)}if(r){const t=e.scrollLeft;1===r?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[s,a]}(s,r.clientRect,e,t),(i||o)&&(n=s))}),!i&&!o){const{width:r,height:s}=this._viewportRuler.getViewportSize(),a={width:r,height:s,top:0,right:r,bottom:s,left:0};i=St(a,t),o=Ot(a,e),n=window}!n||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const e=Object(Me.d)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,clientRect:Qe(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=Object(Me.d)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const i="horizontal"===this._orientation,o=t[e].clientRect,r=t[e+-1*n];let s=o[i?"width":"height"]*n;if(r){const e=i?"left":"top",t=i?"right":"bottom";-1===n?s-=r.clientRect[e]-o[t]:s+=o[e]-r.clientRect[t]}return s}_getItemOffsetPx(e,t,n){const i="horizontal"===this._orientation;let o=i?t.left-e.left:t.top-e.top;return-1===n&&(o+=i?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return i?e>=o.right:t>=o.bottom}{const o=n[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,n,i){const o="horizontal"===this._orientation,r=_t(this._itemPositions,({drag:r,clientRect:s},a,l)=>{if(r===e)return l.length<2;if(i){const e=o?i.x:i.y;if(r===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return o?t>=Math.floor(s.left)&&t<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)});return-1!==r&&this.sortPredicate(r,e,this)?r:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return et(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(i=>i._canReceive(e,t,n))}_canReceive(e,t,n){if(!et(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;const o=Object(Me.d)(this.element);return i===o||o.contains(i)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{tt(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Object(ze.c)(Object(Me.d)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}}function _t(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function xt(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function wt(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function St(e,t){const{top:n,bottom:i,height:o}=e,r=.05*o;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}function Ot(e,t){const{left:n,right:i,width:o}=e,r=.05*o;return t>=n-r&&t<=n+r?1:t>=i-r&&t<=i+r?2:0}const Ct=Object(ze.e)({passive:!1,capture:!0});class Dt{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new C.a,this.pointerUp=new C.a,this.scroll=new C.a,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.size&&(e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ct)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ct)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ct}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:Ct}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}Dt.\u0275fac=function(e){return new(e||Dt)(r.Xc(r.R),r.Xc(s.d))},Dt.\u0275prov=Object(r.Jc)({factory:function(){return new Dt(Object(r.Xc)(r.R),Object(r.Xc)(s.d))},token:Dt,providedIn:"root"}),Dt.ctorParameters=()=>[{type:r.R},{type:void 0,decorators:[{type:r.D,args:[s.d]}]}];const Tt={dragStartThreshold:5,pointerDirectionChangeThreshold:5};class It{constructor(e,t,n,i){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(e,t=Tt){return new pt(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new yt(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}It.\u0275fac=function(e){return new(e||It)(r.Xc(s.d),r.Xc(r.R),r.Xc(Be.d),r.Xc(Dt))},It.\u0275prov=Object(r.Jc)({factory:function(){return new It(Object(r.Xc)(s.d),Object(r.Xc)(r.R),Object(r.Xc)(Be.d),Object(r.Xc)(Dt))},token:It,providedIn:"root"}),It.ctorParameters=()=>[{type:void 0,decorators:[{type:r.D,args:[s.d]}]},{type:r.R},{type:Be.d},{type:Dt}];const kt=new r.F("CDK_DRAG_PARENT"),Pt=new r.F("CdkDropListGroup");class Et{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(Me.b)(e)}ngOnDestroy(){this._items.clear()}}Et.\u0275fac=function(e){return new(e||Et)},Et.\u0275dir=r.Ic({type:Et,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[r.Bc([{provide:Pt,useExisting:Et}])]}),Et.propDecorators={disabled:[{type:r.H,args:["cdkDropListGroupDisabled"]}]};const Ft=new r.F("CDK_DRAG_CONFIG");let jt=0;const Lt=new r.F("CdkDropList");class Rt{constructor(e,t,n,i,o,s,a){this.element=e,this._changeDetectorRef=n,this._scrollDispatcher=i,this._dir=o,this._group=s,this._destroyed=new C.a,this.connectedTo=[],this.id="cdk-drop-list-"+jt++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new r.y,this.entered=new r.y,this.exited=new r.y,this.sorted=new r.y,this._unsortedItems=new Set,this._dropListRef=t.createDropList(e),this._dropListRef.data=this,a&&this._assignDefaults(a),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,n)=>this.sortPredicate(e,t.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),Rt._dropLists.push(this),s&&s._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Object(Me.b)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const e=Rt._dropLists.indexOf(this);e>-1&&Rt._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(e){this._dir&&this._dir.change.pipe(Object(ce.a)(this._dir.value),Object(Ge.a)(this._destroyed)).subscribe(t=>e.withDirection(t)),e.beforeStarted.subscribe(()=>{const t=Object(Me.a)(this.connectedTo).map(e=>{if("string"==typeof e){const t=Rt._dropLists.find(t=>t.id===e);return t}return e});if(this._group&&this._group._items.forEach(e=>{-1===t.indexOf(e)&&t.push(e)}),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.sortingDisabled=Object(Me.b)(this.sortingDisabled),e.autoScrollDisabled=Object(Me.b)(this.autoScrollDisabled),e.connectedTo(t.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:o,listOrientation:r}=e;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=r||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}Rt.\u0275fac=function(e){return new(e||Rt)(r.Nc(r.v),r.Nc(It),r.Nc(r.k),r.Nc(Be.b),r.Nc(We.b,8),r.Nc(Pt,12),r.Nc(Ft,8))},Rt.\u0275dir=r.Ic({type:Rt,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(r.Dc("id",t.id),r.Fc("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.Bc([{provide:Pt,useValue:undefined},{provide:Lt,useExisting:Rt}])]}),Rt._dropLists=[],Rt.ctorParameters=()=>[{type:r.v},{type:It},{type:r.k},{type:Be.b},{type:We.b,decorators:[{type:r.S}]},{type:Et,decorators:[{type:r.S},{type:r.D,args:[Pt]},{type:r.hb}]},{type:void 0,decorators:[{type:r.S},{type:r.D,args:[Ft]}]}],Rt.propDecorators={connectedTo:[{type:r.H,args:["cdkDropListConnectedTo"]}],data:[{type:r.H,args:["cdkDropListData"]}],orientation:[{type:r.H,args:["cdkDropListOrientation"]}],id:[{type:r.H}],lockAxis:[{type:r.H,args:["cdkDropListLockAxis"]}],disabled:[{type:r.H,args:["cdkDropListDisabled"]}],sortingDisabled:[{type:r.H,args:["cdkDropListSortingDisabled"]}],enterPredicate:[{type:r.H,args:["cdkDropListEnterPredicate"]}],sortPredicate:[{type:r.H,args:["cdkDropListSortPredicate"]}],autoScrollDisabled:[{type:r.H,args:["cdkDropListAutoScrollDisabled"]}],dropped:[{type:r.T,args:["cdkDropListDropped"]}],entered:[{type:r.T,args:["cdkDropListEntered"]}],exited:[{type:r.T,args:["cdkDropListExited"]}],sorted:[{type:r.T,args:["cdkDropListSorted"]}]};const Nt=new r.F("CdkDragHandle");class At{constructor(e,t){this.element=e,this._stateChanges=new C.a,this._disabled=!1,this._parentDrag=t}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(Me.b)(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}At.\u0275fac=function(e){return new(e||At)(r.Nc(r.v),r.Nc(kt,12))},At.\u0275dir=r.Ic({type:At,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[r.Bc([{provide:Nt,useExisting:At}])]}),At.ctorParameters=()=>[{type:r.v},{type:void 0,decorators:[{type:r.D,args:[kt]},{type:r.S},{type:r.hb}]}],At.propDecorators={disabled:[{type:r.H,args:["cdkDragHandleDisabled"]}]};const Bt=new r.F("CdkDragPlaceholder");class zt{constructor(e){this.templateRef=e}}zt.\u0275fac=function(e){return new(e||zt)(r.Nc(r.lb))},zt.\u0275dir=r.Ic({type:zt,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[r.Bc([{provide:Bt,useExisting:zt}])]}),zt.ctorParameters=()=>[{type:r.lb}],zt.propDecorators={data:[{type:r.H}]};const Mt=new r.F("CdkDragPreview");class Ht{constructor(e){this.templateRef=e,this._matchSize=!1}get matchSize(){return this._matchSize}set matchSize(e){this._matchSize=Object(Me.b)(e)}}Ht.\u0275fac=function(e){return new(e||Ht)(r.Nc(r.lb))},Ht.\u0275dir=r.Ic({type:Ht,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"},features:[r.Bc([{provide:Mt,useExisting:Ht}])]}),Ht.ctorParameters=()=>[{type:r.lb}],Ht.propDecorators={data:[{type:r.H}],matchSize:[{type:r.H}]};class Ut{constructor(e,t,n,i,o,s,a,l,c,d){this.element=e,this.dropContainer=t,this._ngZone=i,this._viewContainerRef=o,this._dir=a,this._changeDetectorRef=c,this._selfHandle=d,this._destroyed=new C.a,this.started=new r.y,this.released=new r.y,this.ended=new r.y,this.entered=new r.y,this.exited=new r.y,this.dropped=new r.y,this.moved=new H.a(e=>{const t=this._dragRef.moved.pipe(Object(g.a)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=l.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Object(Me.b)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(Ve.a)(1),Object(Ge.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(ce.a)(this._handles),Object(m.a)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Object(qe.a)(e=>Object(U.a)(...e.map(e=>e._stateChanges.pipe(Object(ce.a)(e))))),Object(Ge.a)(this._destroyed)).subscribe(e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(e){const t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?$t(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;if(!e)return null;if("string"==typeof e)return $t(this.element.nativeElement,e);const t=Object(Me.d)(e);return t}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:Object(Me.e)(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),t&&e.withDirection(t.value)}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:n,constrainPosition:i,previewClass:o,boundaryElement:r,draggingDisabled:s,rootElementSelector:a}=e;this.disabled=null!=s&&s,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),o&&(this.previewClass=o),r&&(this.boundaryElement=r),a&&(this.rootElementSelector=a)}}function $t(e,t){let n=e.parentElement;for(;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}Ut.\u0275fac=function(e){return new(e||Ut)(r.Nc(r.v),r.Nc(Lt,12),r.Nc(s.d),r.Nc(r.R),r.Nc(r.rb),r.Nc(Ft,8),r.Nc(We.b,8),r.Nc(It),r.Nc(r.k),r.Nc(Nt,10))},Ut.\u0275dir=r.Ic({type:Ut,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){if(1&e&&(r.Gc(n,Mt,!0),r.Gc(n,Bt,!0),r.Gc(n,Nt,!0)),2&e){let e;r.md(e=r.cd())&&(t._previewTemplate=e.first),r.md(e=r.cd())&&(t._placeholderTemplate=e.first),r.md(e=r.cd())&&(t._handles=e)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&r.Fc("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Bc([{provide:kt,useExisting:Ut}]),r.Ac]}),Ut.ctorParameters=()=>[{type:r.v},{type:void 0,decorators:[{type:r.D,args:[Lt]},{type:r.S},{type:r.hb}]},{type:void 0,decorators:[{type:r.D,args:[s.d]}]},{type:r.R},{type:r.rb},{type:void 0,decorators:[{type:r.S},{type:r.D,args:[Ft]}]},{type:We.b,decorators:[{type:r.S}]},{type:It},{type:r.k},{type:At,decorators:[{type:r.S},{type:r.fb},{type:r.D,args:[Nt]}]}],Ut.propDecorators={_handles:[{type:r.s,args:[Nt,{descendants:!0}]}],_previewTemplate:[{type:r.r,args:[Mt]}],_placeholderTemplate:[{type:r.r,args:[Bt]}],data:[{type:r.H,args:["cdkDragData"]}],lockAxis:[{type:r.H,args:["cdkDragLockAxis"]}],rootElementSelector:[{type:r.H,args:["cdkDragRootElement"]}],boundaryElement:[{type:r.H,args:["cdkDragBoundary"]}],dragStartDelay:[{type:r.H,args:["cdkDragStartDelay"]}],freeDragPosition:[{type:r.H,args:["cdkDragFreeDragPosition"]}],disabled:[{type:r.H,args:["cdkDragDisabled"]}],constrainPosition:[{type:r.H,args:["cdkDragConstrainPosition"]}],previewClass:[{type:r.H,args:["cdkDragPreviewClass"]}],started:[{type:r.T,args:["cdkDragStarted"]}],released:[{type:r.T,args:["cdkDragReleased"]}],ended:[{type:r.T,args:["cdkDragEnded"]}],entered:[{type:r.T,args:["cdkDragEntered"]}],exited:[{type:r.T,args:["cdkDragExited"]}],dropped:[{type:r.T,args:["cdkDragDropped"]}],moved:[{type:r.T,args:["cdkDragMoved"]}]};class Gt{}Gt.\u0275mod=r.Lc({type:Gt}),Gt.\u0275inj=r.Kc({factory:function(e){return new(e||Gt)},providers:[It],imports:[Be.a]}),("undefined"==typeof ngJitMode||ngJitMode)&&r.td(Gt,{declarations:function(){return[Rt,Et,Ut,At,Ht,zt]},exports:function(){return[Be.a,Rt,Et,Ut,At,Ht,zt]}});let Vt=class{constructor(){}ngOnInit(){}};Vt.ctorParameters=()=>[],Vt.propDecorators={caption:[{type:r.H,args:["caption"]}]},Vt=Object(o.a)([Object(r.n)({selector:"app-page-divider",template:'<h1 *ngIf="caption" class="h6">{{caption}}</h1>\n<div class="divider">\n\n    <span></span>\n\n\n</div>',styles:[".divider {\n  border-bottom: 1px solid #8d8d8d;\n  background-color: #8d8d8d;\n  height: 1px;\n  margin: 0.5em 0px 1.5em;\n  width: 100%;\n}\n\n.divider span {\n  display: block;\n  width: 100%;\n  height: 1px;\n  background-color: #696866;\n}"]})],Vt);let qt=class{constructor(){}ngOnInit(){}};qt.ctorParameters=()=>[],qt=Object(o.a)([Object(r.n)({selector:"app-field-property",template:"<p>field-property works!</p>\n",styles:[""]})],qt);let Wt=class{constructor(e,t,n,i,o){this.apiService=e,this.activateRoute=t,this.cd=n,this.activeFormFieldService=i,this.scrollToService=o,this.viewEditor=!0,this.ColorPallete=x.b,this.properties=this.activeFormFieldService.properties$.asObservable(),this.selectedField=this.activeFormFieldService.selectedField$.asObservable(),this.toggleDragAndScroll=!1,this.toggleAddComponentValue=!1,this.showAutocompleteBar=!1,this.minFormNameLength=1,this.options=[],this.inputFormControl=new l.d(""),this.componentTypes=M.getComponentTypes(),this.formSchema={form_id:"",form_name:"",form_metadata:[],form_tags:[],field:[],public:!0,draft:!0,archived:!0,version:1},this.properties_visible=!0,this.report_builder_visible=!0,this.formId=new h.a(void 0),this.activeBottom=0,this.items=[{title:"Profile",icon:"person-outline"},{title:"Change Password",icon:"lock-outline"},{title:"Privacy Policy",icon:{icon:"checkmark-outline",pack:"eva"}},{title:"Logout",icon:"unlock-outline"}]}ngOnChanges(e){e.formSchema&&console.log("scroll property changed")}toggleAddComponent(){this.toggleAddComponentValue=!this.toggleAddComponentValue}toggleScroll(){this.toggleDragAndScroll=!this.toggleDragAndScroll}toggleProperties(){console.log("toggleProperties"),this.properties_visible=!this.properties_visible}toggleReportBuilder(){console.log("toggleReportBuilder"),this.report_builder_visible=!this.report_builder_visible}refreshFormAtributes(e){this.formId.asObservable().pipe(Object(u.a)(e=>!!e)).pipe(Object(Ve.a)(1)).subscribe(t=>{console.log("formId ",t),this.apiService.fetchFormSchemaById(t).pipe(Object(G.a)(100),Object(m.a)(e=>{this.formSchema=e}),Object(m.a)(t=>{e&&(console.log("renderForm",t),t.field.forEach((e,t)=>{0==t&&(console.log("seelcting field"),this.selectField(e))}))})).subscribe(e=>{})})}ngOnInit(){this.activateRoute.params.pipe(Object(g.a)(e=>e.formid),Object(u.a)(e=>!!e),Object(m.a)(e=>{this.formId.next(e)}),Object(m.a)(e=>{this.refreshFormAtributes(!0)})).subscribe(),w.a.FormSchema.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{console.debug("formSchema",e),this.options=e}),this.filteredControlOptions$=Object($.a)(this.options),this.filteredControlOptions$=this.inputFormControl.valueChanges.pipe(Object(u.a)(e=>!!e)).pipe(Object(ce.a)(""),Object(g.a)(e=>this.filter(e))),this.activeFormFieldService.selectedField$.pipe(Object(u.a)(e=>!!e)).subscribe(e=>{setTimeout(t=>{const n={target:e,container:"field_container"};this.scrollToService.scrollTo(n).subscribe(e=>{},e=>{})},0)})}addField(e){let t=e.type;this.apiService.createFieldSchema(this.formSchema.form_id,t).pipe(Object(u.a)(e=>!!e.field_id)).pipe(Object(m.a)(e=>{this.selectField(e.field_id)})).pipe(Object(m.a)()).subscribe(e=>{this.refreshFormAtributes(!1)})}filter(e){console.debug("filtering",e,typeof e);const t=e.toLowerCase();return this.options.filter(e=>e.form_name.toLowerCase().includes(t))}selectField(e){this.activeFormFieldService.publishSelectedField(e)}getProperties(e){this.activeFormFieldService.publishSelectedFieldProperties(e)}ngAfterContentChecked(){this.cd.detectChanges()}properyOnChange(e,t){this.fieldEditorComponent.onPropertyChange(t)}save(){this.selectedField.pipe(Object(Ve.a)(1),Object(g.a)(e=>this.fieldEditorComponent.save(e)),Object(se.a)(e=>e),Object(m.a)(e=>{console.log("Saved")})).subscribe()}activeNavbarMenuChange(e){console.log("activeNavbarMenuChange",e)}};Wt.ctorParameters=()=>[{type:O},{type:de.a},{type:r.k},{type:b},{type:te}],Wt.propDecorators={fieldEditorComponent:[{type:r.pb,args:["fieldEditor",{static:!1}]}],formBuilderComponent:[{type:r.pb,args:["formBuilder"]}],formInput:[{type:r.pb,args:["formInput"]}]},Wt=Object(o.a)([Object(r.n)({selector:"app-view-pager",template:'<nb-layout center>\n  <nb-layout-header fixed>\n\n    <div fxFlex fxLayoutAlign="center center">\n\n      <div fxFlex fxLayoutAlign="start center">\n\n        <button nbButton ghost status="danger" size="large">\n          <nb-icon icon="menu">\n          </nb-icon>\n        </button>\n\n        <span fxHide.lt-sm fxShow routerLink="/" class="h5">\n          SecoFlex\n        </span>\n      </div>\n\n      <div fxFlex fxLayoutAlign="end center">\n\n\n        <button (click)="viewEditor = !viewEditor" nbButton outline status="success" size="small">\n          <nb-icon icon="checkmark-circle-2">\n          </nb-icon>\n          Preview\n\n        </button>\n\n        <button (click)="toggleProperties()" nbButton outline status="basic" size="small">\n\n          <nb-icon icon="settings-2-outline">\n          </nb-icon>\n        </button>\n\n\n\n\n      </div>\n    </div>\n  </nb-layout-header>\n\n\n\n  <nb-sidebar *ngIf="!toggleAddComponentValue" left fxLayout="column">\n\n\n\n    <nb-sidebar-header>\n\n      <button (click)="toggleAddComponent()" nbButton ghost status="success" size="tiny">\n        <nb-icon icon="plus">\n        </nb-icon>\n        Add\n\n      </button>\n\n      <div fxFlex fxLayoutAlign="end center">\n        <span routerLink="/" class="colored">\n          Hierarchy\n        </span>\n      </div>\n\n\n    </nb-sidebar-header>\n\n\n    <ng-container>\n\n      <app-field-viewer [fields]="formSchema.field" [field_id]="selectedField | async">\n      </app-field-viewer>\n\n\n      <ng-template #progress>\n        <div fxFlex fxLayoutAlign="center center">\n\n          <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n          </ngx-progress-spinner>\n        </div>\n      </ng-template>\n\n\n\n    </ng-container>\n\n\n\n\n\n\n\n  </nb-sidebar>\n\n  <nb-sidebar left *ngIf=" toggleAddComponentValue " fxLayout="column">\n\n\n\n    <nb-sidebar-header>\n\n      <button (click)="toggleAddComponent()" nbButton ghost status="success" size="tiny">\n        <nb-icon icon="plus">\n        </nb-icon>\n        Back\n\n      </button>\n\n\n      <div fxFlex fxLayoutAlign="end center">\n        <span routerLink="/" class="colored">\n          Hierarchy\n        </span>\n      </div>\n\n\n    </nb-sidebar-header>\n\n    <nb-list>\n      <nb-list-item [appLeftBorder]="ColorPallete[index % ColorPallete.length]" [animate]="true"\n        (click)="addField(componentType)" *ngFor="let componentType of componentTypes; index as index">\n        <div fxFlex class=" subtitle">\n          {{ componentType.title }}\n\n        </div>\n      </nb-list-item>\n    </nb-list>\n\n\n\n\n\n  </nb-sidebar>\n\n  <nb-layout-column @init *ngIf="viewEditor == false">\n\n\n\n\n    <app-form-builder #formBuilder [form_schema_id]="formSchema.form_id">\n    </app-form-builder>\n\n\n\n  </nb-layout-column>\n\n  <nb-layout-column @init *ngIf="viewEditor == true">\n\n\n    <div fxLayout fxLayoutAlign="center" fxFlexFill fxLayoutGap="1rem">\n\n\n\n      <div fxFlex="0 1 800px" fxLayout="column" fxLayoutGap="1rem">\n\n        <app-field-editor #fieldEditor (getProperties)="getProperties($event)" fxLayoutAlign="start start"\n          [field_id]="selectedField | async ">\n        </app-field-editor>\n\n        \x3c!-- Todo: Remove cards --\x3e\n        <nb-card size="small" status="basic" fxFlex *ngIf="false && report_builder_visible" @init>\n\n          <nb-card-header>\n            <div fxFlex>\n              <span routerLink="/" class="subtitle-2 ">\n                Editor\n              </span>\n            </div>\n          </nb-card-header>\n          <nb-card-body>\n\n\n            <app-field-editor #fieldEditor (getProperties)="getProperties($event)" fxLayoutAlign="start start"\n              [field_id]="selectedField | async ">\n            </app-field-editor>\n          </nb-card-body>\n\n        </nb-card>\n\n\n\n      </div>\n\n\n\n\n    </div>\n\n\n\n\n\n  </nb-layout-column>\n\n\n  <nb-sidebar @init *ngIf="properties_visible" right>\n\n    <nb-sidebar-header>\n\n\n      <ngx-navbar [(active)]="activeBottom" fxFlex (activeChange)="activeNavbarMenuChange($event)">\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="apps"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="chart-scatter"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="database"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="commandline"></ngx-icon>\n        </ngx-navbar-item>\n      </ngx-navbar>\n    </nb-sidebar-header>\n\n\n\n    <nb-sidebar-header fxLayoutAlign="center center">\n      <nb-form-field fxFlex>\n        <nb-icon nbPrefix icon="search" pack="eva"></nb-icon>\n        <input type="text" nbInput fullWidth status="control" status="basic" placeholder="Search">\n\n        <button nbSuffix ghost status="primary" nbButton (click)="save()">\n          <nb-icon icon="checkmark-outline" pack="eva"></nb-icon>\n\n\n        </button>\n\n      </nb-form-field>\n    </nb-sidebar-header>\n\n    <div [ngSwitch]="activeBottom" fxFlex>\n\n\n      <ng-template [ngSwitchCase]="0">\n\n        <ng-container *ngIf=" (properties_visible || report_builder_visible)  ">\n          <ng-container *ngIf="(properties | async)?.length > 0 ; else progress ">\n\n            <ngx-section fxFlex style="overflow: auto;" fxFlex *ngIf="properties_visible" [sectionCollapsible]="false">\n\n\n              <div>\n\n\n\n\n                <ng-container *ngFor="let property of properties | async ; index as index ">\n\n                  <app-property (propertOnChange)="properyOnChange(index, $event)" [property]="property">\n                  </app-property>\n\n                </ng-container>\n\n\n       \n\n\n\n              </div>\n\n            </ngx-section>\n\n\n\n          </ng-container>\n\n\n\n          <ng-template #progress>\n            <div fxFlex fxLayoutAlign="center center">\n\n              <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n              </ngx-progress-spinner>\n            </div>\n          </ng-template>\n\n\n\n        </ng-container>\n\n\n      </ng-template>\n      <ng-template [ngSwitchCase]="1">\n\n        <ng-container *ngIf=" (properties_visible || report_builder_visible)  ">\n          <ng-container *ngIf="(properties | async)?.length > 0 ; else progress ">\n\n\n\n            <app-field-viewer fxFlex [fields]="formSchema.field" [field_id]="selectedField | async">\n            </app-field-viewer>\n\n\n\n\n\n\n\n\n\n          </ng-container>\n\n\n\n          <ng-template #progress>\n            <div fxFlex fxLayoutAlign="center center">\n\n              <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n              </ngx-progress-spinner>\n            </div>\n          </ng-template>\n\n\n\n        </ng-container>\n\n\n      </ng-template>\n      <ng-template [ngSwitchCase]="2">\n        <nb-card fxFlex>\n          <nb-card-body>\n\n            <nb-menu [items]="items">\n            </nb-menu>\n\n          </nb-card-body>\n        </nb-card>\n\n      </ng-template>\n      <ng-template [ngSwitchDefault]>\n        <p>HTML Course</p>\n      </ng-template>\n    </div>\n\n\n\n\n\n\n\n\n\n\n    <nb-sidebar-footer>\n\n\n      <ngx-navbar fxFlex (activeChange)="activeNavbarMenuChange($event)">\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="apps"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="chart-scatter"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="database"></ngx-icon>\n        </ngx-navbar-item>\n        <ngx-navbar-item>\n          <ngx-icon fontIcon="commandline"></ngx-icon>\n        </ngx-navbar-item>\n      </ngx-navbar>\n    </nb-sidebar-footer>\n\n\n\n  </nb-sidebar>\n\n</nb-layout>\n',animations:q.a,styles:[":host ::ng-deep nb-sidebar {\n  margin-right: 0 !important;\n  margin-left: 0 !important;\n}\n:host ::ng-deep nb-sidebar .scrollable {\n  padding: 0px !important;\n}\n:host ::ng-deep nb-sidebar ngx-section {\n  margin-bottom: 0px;\n  width: 100%;\n}\nnb-list {\n  overflow: auto;\n  max-height: 100%;\n}\n.colored {\n  color: #479eff;\n}\n.selected {\n  font-weight: 750;\n  border: solid transparent;\n  box-shadow: 0 1px 3px rgba(161, 161, 161, 0.12), 0 1px 2px rgba(161, 161, 161, 0.12);\n  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.overflow {\n  overflow: auto;\n}\nnb-sidebar-footer {\n  padding: 0px !important;\n  background: #171a21;\n}\n.demo-search-box {\n  width: 300px;\n  height: 50px;\n}\n.demo-search-box ngx-icon.search-icon {\n  margin-top: 5px;\n}\n.demo-search-box ngx-input[hidden] {\n  display: block !important;\n  width: 0px;\n  transition: width 0.5s;\n}\n.demo-search-box ngx-input {\n  margin: 0 40px 0 20px;\n  width: 240px;\n  transition: width 0.5s;\n}\n.maincontainer {\n  background: #fff;\n}\n:host ::ng-deep .ngx-section-content {\n  padding: 3px !important;\n}"]})],Wt);let Xt=class{constructor(){this.users=[{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"},{name:"Janitor",title:"Janitor"},{name:"Perry Cox",title:"Doctor of Medicine"},{name:"Ben Sullivan",title:"Carpenter and photographer"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Carla Espinosa",title:"Nurse"},{name:"Bob Kelso",title:"Doctor of Medicine"}]}ngOnInit(){}};Xt.ctorParameters=()=>[],Xt=Object(o.a)([Object(r.n)({selector:"app-playground",template:'<nb-layout >\n    <nb-layout-header fixed>\n\n        <div fxFlex fxLayoutAlign="center center">\n\n            <span routerLink="/" class="h5">\n                <button nbButton ghost status="danger" size="large">\n\n                    <nb-icon icon="menu-2">\n                    </nb-icon>\n                </button>\n\n                SecoFlex\n\n            </span>\n\n\n            <div fxFlex fxLayoutAlign="end center">\n\n\n                <button nbButton ghost status="danger" size="medium">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Previous\n\n                </button>\n\n                <button nbButton ghost status="success" size="medium">\n                    <nb-icon icon="checkmark-circle-2">\n                    </nb-icon>\n                    Next\n\n                </button>\n\n\n            </div>\n        </div>\n    </nb-layout-header>\n\n\n\n\n    <nb-layout-column withScroll>\n\n        <nb-card size="medium">\n            <nb-card-header>\n              Some fruits\n            </nb-card-header>\n            <nb-list>\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n          </nb-card>\n\n          <nb-card size="medium">\n            <nb-card-header>\n              Some fruits\n            </nb-card-header>\n            <nb-list>\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n          </nb-card>\n\n    </nb-layout-column>\n\n\n    <nb-layout-column>\n\n        <div fxLayout="column" fxFlex class="container">\n\n            <nb-list fxFlex="1 9">\n\n\n                <nb-list-item *ngFor="let user of users">\n                    {{ user.name }}\n                </nb-list-item>\n            </nb-list>\n\n\n\n        </div>\n\n    </nb-layout-column>\n\n</nb-layout>',styles:[""]})],Xt);let Kt=class{constructor(e){this.formBuilder=e,this.propertOnChange=new r.y,this.PropertyType=i,this.size="small",this.identifier="identifier",this.options=[{value:"This is value 1",label:"Option 1"},{value:"This is value 2",label:"Option 2",disabled:!0},{value:"This is value 3",label:"Option 3"},{value:"This is value 4",label:"Option 4",disabled:!0},{value:"This is value 5",label:"Option 5"}]}openDialog(e){}onChange(e){this.property.property_default_value=e,this.propertOnChange.emit(this.property)}ngOnInit(){console.log("Initial Property",this.property),this.form=this.formBuilder.group({property:[this.property.property_default_value]}),this.value=this.form.controls.property.valueChanges,this.value.subscribe(e=>{this.onChange(e)})}};Kt.ctorParameters=()=>[{type:l.c}],Kt.propDecorators={property:[{type:r.H,args:["property"]}],propertOnChange:[{type:r.T,args:["propertOnChange"]}],dialogTpl:[{type:r.pb,args:["dialogTmpl",{static:!1}]}]},Kt=Object(o.a)([Object(r.n)({selector:"app-property",template:'<div  fxLayout="column" @init appBorder>\n\n\n  <div fxLayout="row" class="label" fxLayoutAlign="start center" fxLayoutGap="0.5rem">\n\n\n    <div fxFlex>\n      <span class="tag tag-small tag-bordered"> {{property?.property_name}}</span>\n\n    </div>\n\n\n    <button (click)="openDialog({ context: { count: 19 }, template: wizardTmpl, class: \'wizard\' })" class="margin"\n      nbButton ghost status="primary" size="tiny">\n      <nb-icon icon="expand">\n      </nb-icon>\n\n    </button>\n\n\n  </div>\n\n\n\n\n  <form [formGroup]="form">\n\n\n    <ng-container [ngSwitch]="property.property_tyoe ">\n      <ng-container *ngSwitchCase="PropertyType.TOGGLE_SWITCH  ">\n\n\n\n        <ngx-toggle class="caption" formControlName="property" [label]="property?.property_name">\n        </ngx-toggle>\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_TEXT  ">\n\n\n        <input status="control" nbInput fxFlex formControlName="property" #fileldId\n          [placeholder]="property.property_name" fieldSize="small" />\n\n\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_ICON  ">\n\n\n        <app-icon-selector formControlName="property">\n\n        </app-icon-selector>\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_TEXTAREA  ">\n\n\n        <textarea status="control" nbInput fxFlex formControlName formControlName="property" #fileldId\n          [placeholder]="property.property_name" fieldSize="small">\n            </textarea>\n\n        \x3c!-- <ngx-input type="textarea" label="Hello World" #fileldId appearance="outline" formControlName="property"\n          [placeholder]="property.property_name" size="sm" [hint]="property.property_name"></ngx-input> --\x3e\n\n\n\n        \x3c!-- <input class="form-input" label="Hello World" #fileldId formControlName="property"\n          [placeholder]="property.property_name" size="sm" [hint]="property.property_name"> --\x3e\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_CHECKBOX  ">\n        <nb-checkbox formControlName="property">Toggle me</nb-checkbox>\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_SELECT  ">\n\n        <nb-select [size]="size" placeholder="Select Showcase">\n          <nb-option value="">Option empty</nb-option>\n          <nb-option value="0">Option 0</nb-option>\n          <nb-option value="1">Option 1</nb-option>\n          <nb-option value="2">Option 2</nb-option>\n          <nb-option value="3">Option 3</nb-option>\n          <nb-option value="4">Option 4</nb-option>\n        </nb-select>\n\n\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_RADIO  ">\n\n\n        <nb-radio-group formControlName="property">\n          <nb-radio *ngFor="let option of options" [disabled]="option.disabled" [value]="option.value">\n            {{ option.label }}\n          </nb-radio>\n        </nb-radio-group>\n\n      </ng-container>\n\n\n      <ng-container *ngSwitchCase=" PropertyType.INPUT_MULTI_SELECT  ">\n\n        <nb-select multiple [size]="size" placeholder="Select Showcase">\n          <nb-option value="">Option empty</nb-option>\n          <nb-option value="0">Option 0</nb-option>\n          <nb-option value="1">Option 1</nb-option>\n          <nb-option value="2">Option 2</nb-option>\n          <nb-option value="3">Option 3</nb-option>\n          <nb-option value="4">Option 4</nb-option>\n        </nb-select>\n\n      </ng-container>\n\n      <ng-container *ngSwitchCase=" PropertyType.CHIPS  ">\n\n\n        <input fullWidth #fileldId [placeholder]="property.property_name" formControlName="property" [fieldSize]="size"\n          nbInput />\n\n      </ng-container>\n\n    </ng-container>\n\n\n\n\n  </form>\n\n\n\n\n\n\n\n\n</div>\n\n\n\n\n<ng-template #wizardTmpl let-context="context">\n  <div class="ngx-dialog-header">\n    <h1>Custom header title</h1>\n    <span>Custom subtext</span>\n  </div>\n\n  <ngx-tabs>\n    <ngx-tab label="General">\n      <h2>Tab content</h2>\n      <p>First tab content goes here</p>\n      <p>Count: <strong>{{context.count}}</strong></p>\n    </ngx-tab>\n    <ngx-tab label="Administration">\n      <h2>Second tab has a slightly longer title that goes here</h2>\n      <p>Second tab content goes here</p>\n    </ngx-tab>\n  </ngx-tabs>\n\n  <div class="ngx-dialog-footer">\n    <div class="wizard-nav">\n      <button type="button" class="btn btn-bordered">\n        <i class="ngx-icon ngx-arrow-left has-text"></i>Prev\n      </button>\n      <button type="button" class="btn btn-bordered">\n        Next <i class="ngx-icon ngx-arrow-right"></i>\n      </button>\n    </div>\n    <button type="button" class="btn btn-primary">\n      <i class="ngx-icon ngx-check has-text"></i>Save\n    </button>\n  </div>\n</ng-template>\n',animations:q.a,styles:[".label {\n  margin-top: 0.1875rem;\n  margin-bottom: 0.1875rem;\n}\n\ntextarea {\n  resize: vertical;\n}\n\n:host ::ng-deep .ngx-input-tag__tag {\n  margin: 3px;\n}\n\n:host ::ng-deep .ngx-input-switch {\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  align-content: center;\n}\n\n:host ::ng-deep .ngx-input-switch span {\n  padding-left: 0.6875rem;\n  font-family: Open Sans, sans-serif;\n  font-size: 0.8125rem;\n  font-weight: 600;\n  line-height: 1.5rem;\n}\n\n.margin {\n  margin-bottom: 0.4rem;\n}\n\n.label {\n  margin-bottom: 0.7rem;\n}"]})],Kt);const Zt=new r.F("NGX_INPUT_TAG_TAG_FORMATTER"),Jt=["inputElement"];function Yt(e,t){if(1&e){const e=Object(r.Uc)();Object(r.Tc)(0,"div",6),Object(r.zd)(1),Object(r.Tc)(2,"button",7),Object(r.bd)("click",function(n){Object(r.qd)(e);const i=t.$implicit;return Object(r.dd)().removeTag(i,n)}),Object(r.zd)(3," \u2716 "),Object(r.Sc)(),Object(r.Sc)()}if(2&e){const e=t.$implicit;Object(r.Cc)(1),Object(r.Bd)(" ",e," ")}}function Qt(e,t){if(1&e){const e=Object(r.Uc)();Object(r.Tc)(0,"button",10),Object(r.bd)("click",function(){Object(r.qd)(e);const n=t.$implicit;return Object(r.dd)(2).addSuggestedTag(n)}),Object(r.zd)(1),Object(r.Sc)()}if(2&e){const e=t.$implicit;Object(r.Cc)(1),Object(r.Ad)(e)}}function en(e,t){if(1&e&&(Object(r.Tc)(0,"div",8),Object(r.xd)(1,Qt,2,1,"button",9),Object(r.Sc)()),2&e){const e=Object(r.dd)();Object(r.Cc)(1),Object(r.jd)("ngForOf",e.tagSuggestions)}}var tn;!function(e){e[e.Backspace=8]="Backspace",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.LeftArrow=37]="LeftArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.DownArrow=40]="DownArrow",e[e.Comma=188]="Comma"}(tn||(tn={}));class nn{constructor(e){this.tagFormatter=e,this.tagSuggestions=[],this.maxTagLength=25,this.maxNumberOfTags=1e3,this.textChange=new r.y,this._value=[],this.prevTagInput="",this.currentNumberOfTags=0,this.tagError=null,this.onChange=e=>{},this.onTouched=()=>{}}get value(){return this._value}set value(e){this._value=e,this.onChange(e),this.onTouched()}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}writeValue(e){e&&(this.value=e.map(e=>this.tagFormatter(e)),this.setCurrentNumberOfTags())}validate(){return this.tagError}handleClick(e){this.inputElement&&!this.inputElement.nativeElement.contains(e.target)&&this.inputElement.nativeElement.value&&this.addTag(this.inputElement.nativeElement.value)}addTag(e){const t=this.tagFormatter(e),n=0===t.length,i=!t.length||this.maxTagLength&&t.length>this.maxTagLength,o=this.value.indexOf(t)>-1,r=this.currentNumberOfTags>this.maxNumberOfTags;if(!n&&i&&(this.tagError={message:`Tag length cannot exceed ${this.maxTagLength} characters`}),o&&(this.tagError={message:"Cannot add duplicate tag"}),r){const e=1===this.maxNumberOfTags?"":"s";this.tagError={message:`Cannot exceed ${this.maxNumberOfTags} tag${e}`}}n||i||o||r||!this.inputElement||(this.tagError=null,this.value.push(t),this.setCurrentNumberOfTags(),this.inputElement.nativeElement.value=""),this.value=this.value,this.focus()}addTagEvent(e){const t=e.target;this.tagError=null,this.value=this.value,this.textChange.emit(t.value),e.keyCode===tn.Backspace&&0===this.prevTagInput.length?(this._value.pop(),this.setCurrentNumberOfTags()):e.keyCode!==tn.Enter&&e.keyCode!==tn.Comma&&e.keyCode!==tn.Tab||this.addTag(t.value),this.prevTagInput=t.value}preventDefaultTabBehavior(e){e.keyCode===tn.Tab&&this.prevTagInput.length>0&&e.preventDefault()}addTagClick(e,t){e.preventDefault(),t.length>0&&this.addTag(t)}addSuggestedTag(e){this.addTag(e)}removeTag(e,t){t.keyCode!==tn.Enter&&(this.value=this._value.filter(t=>t!==e),this.setCurrentNumberOfTags())}focus(){var e;null===(e=this.inputElement)||void 0===e||e.nativeElement.focus()}setCurrentNumberOfTags(){this.currentNumberOfTags=this.value.length?this.value.toString().split(",").length:0}}function on(e){return e.trim().replace(/(\s|-)+/g,"-").replace(/\,/g,"").toLowerCase()}nn.\u0275fac=function(e){return new(e||nn)(Object(r.Nc)(Zt))},nn.\u0275cmp=Object(r.Hc)({type:nn,selectors:[["ngx-input-tag"]],viewQuery:function(e,t){if(1&e&&Object(r.Cd)(Jt,!0),2&e){let e;Object(r.md)(e=Object(r.cd)())&&(t.inputElement=e.first)}},hostBindings:function(e,t){1&e&&Object(r.bd)("click",function(e){return t.handleClick(e)},!1,r.od)},inputs:{tagSuggestions:"tagSuggestions",maxTagLength:"maxTagLength",maxNumberOfTags:"maxNumberOfTags"},outputs:{textChange:"textChange"},features:[Object(r.Bc)([{provide:l.h,useExisting:Object(r.vb)(()=>nn),multi:!0},{provide:l.g,useExisting:Object(r.vb)(()=>nn),multi:!0}])],decls:7,vars:4,consts:[[1,"ngx-input-tag",3,"click"],["class","ngx-input-tag__tag",4,"ngFor","ngForOf"],["type","text","aria-label","Tags",1,"ngx-input-tag__input",3,"keyup","keydown"],["inputElement",""],["type","button","aria-label","Add Tag","title","Add Tag",1,"ngx-input-tag__btn",3,"click"],["class","ngx-input-tag-suggestions",4,"ngIf"],[1,"ngx-input-tag__tag"],["type","button",3,"click"],[1,"ngx-input-tag-suggestions"],["type","button","class","ngx-input-tag-suggestions__tag",3,"click",4,"ngFor","ngForOf"],["type","button",1,"ngx-input-tag-suggestions__tag",3,"click"]],template:function(e,t){if(1&e){const e=Object(r.Uc)();Object(r.Tc)(0,"div",0),Object(r.bd)("click",function(){return t.focus()}),Object(r.xd)(1,Yt,4,1,"div",1),Object(r.Tc)(2,"input",2,3),Object(r.bd)("keyup",function(e){return t.addTagEvent(e)})("keydown",function(e){return t.preventDefaultTabBehavior(e)}),Object(r.Sc)(),Object(r.Tc)(4,"button",4),Object(r.bd)("click",function(n){Object(r.qd)(e);const i=Object(r.nd)(3);return t.addTagClick(n,i.value)}),Object(r.zd)(5," + "),Object(r.Sc)(),Object(r.Sc)(),Object(r.xd)(6,en,2,1,"div",5)}if(2&e){const e=Object(r.nd)(3);Object(r.Cc)(1),Object(r.jd)("ngForOf",t.value),Object(r.Cc)(1),Object(r.vd)("width",10*e.value.length+10+"px"),Object(r.Cc)(4),Object(r.jd)("ngIf",e.value.length&&t.tagSuggestions&&t.tagSuggestions.length)}},directives:[s.m,s.n],styles:["*,:after,:before{box-sizing:border-box}ngx-input-tag{--color-add-button:#ccc;--color-add-button-background:#fff;--color-background:#fff;--color-border:#dbdbdb;--color-tag-close:#ccc;--color-tag-suggestion-hover:#f2f2f2;display:inline-block;margin-bottom:12px;width:100%}.ngx-input-tag{background-color:#fff;background-color:var(--color-background);border:1px solid #dbdbdb;border:1px solid var(--color-border);font-size:16px;margin-bottom:0;padding:5px 80px 4.5px 4px;position:relative}.ngx-input-tag:focus{outline:initial}.ngx-input-tag__input{border:0;font-size:16px;margin-bottom:0;margin-left:4px;max-width:calc(100% + 70px);min-height:29px;min-width:4px;outline:none;padding:4px 0;width:8px}.ngx-input-tag__tag{border:1px solid #dbdbdb;border:1px solid var(--color-border);border-radius:2px;display:inline-block;height:29px;line-height:18px;margin-right:4px;padding:4px}.ngx-input-tag__tag button{background:transparent;border:0;color:var(--color-tag-close);cursor:pointer}.ngx-input-tag__btn{background-color:#fff;background-color:var(--color-add-button-background);color:#ccc;color:var(--color-add-button);cursor:pointer;font-size:30px;height:41px;position:absolute;right:-1px;top:-1px;width:50px}.ngx-input-tag-suggestions,.ngx-input-tag__btn{border:1px solid #dbdbdb;border:1px solid var(--color-border)}.ngx-input-tag-suggestions{background-color:#fff;background-color:var(--color-background)}.ngx-input-tag-suggestions__tag{background:transparent;border:0;cursor:pointer;display:block;padding:10px 14px;text-align:left;width:100%}.ngx-input-tag-suggestions__tag:hover{background:#f2f2f2;background:var(--color-tag-suggestion-hover)}"],encapsulation:2,changeDetection:0});class rn{static forRoot(e={tagFormatter:on}){return{ngModule:rn,providers:[{provide:Zt,useValue:e.tagFormatter}]}}}rn.\u0275mod=Object(r.Lc)({type:rn}),rn.\u0275inj=Object(r.Kc)({factory:function(e){return new(e||rn)},imports:[[s.c]]}),("undefined"==typeof ngJitMode||ngJitMode)&&Object(r.td)(rn,{declarations:[nn],imports:[s.c],exports:[nn]});let sn=class{constructor(e,t,n){this.apiService=e,this.activeFormFieldService=t,this.ColorPallete=x.b,this.items=[],this._items=[],this.field_schema_data={},this.onHover$=-1,n.onItemClick().subscribe(e=>{n.getSelectedItem().subscribe(t=>{t.item&&(t.item.selected=!1),e.item.selected=!0}),this.selectField(e.item.data)})}set fields(e){e.forEach((e,t)=>{this._items.push({loading:!0}),this.apiService.getFieldSchemaById(e).pipe(Object(m.a)(n=>{let i;this.field_schema_data=n;let o=M.getComponent(n.component_type).title;try{i=n.properties.find(e=>"identifier"==e.property_identifier).property_default_value,null==i&&(i=n.field_id),i.length<1&&(i=n.field_id)}catch(r){i=o}Object($.a)(null).pipe(Object(G.a)(x.d)).subscribe(n=>{this._items[t]={title:o,icon:"checkmark",data:e,selected:this.field_schema_id==e,loading:!1}})})).subscribe(e=>{console.log("Fetching")})})}ngOnInit(){this.apiService.getFieldSchemaById(this.field_schema_id).pipe(Object(m.a)(e=>{this.field_schema_data=e;let t=M.getComponent(e.component_type).title;try{this.identifier=e.properties.find(e=>"identifier"==e.property_identifier).property_default_value,null==this.identifier&&(this.identifier=e.field_id),this.identifier.length<1&&(this.identifier=e.field_id)}catch(n){this.identifier=t}})).subscribe()}selectField(e){this.activeFormFieldService.publishSelectedField(e)}delete(e){}onHover(e){console.log("onHover",e),this.onHover$=e}};sn.ctorParameters=()=>[{type:O},{type:b},{type:W.r}],sn.propDecorators={field_schema_id:[{type:r.H,args:["field_id"]}],fields:[{type:r.H,args:["fields"]}]},sn=Object(o.a)([Object(r.n)({selector:"app-field-viewer",template:'<div fxLayout="column">\n\n  <div fxLayout="row">\n\n    <nb-list>\n\n      <nb-list-item [class.selected]="item.data == field_schema_id " (click)="selectField(item.data)"\n        (mouseover)="onHover(index)" (mouseleave)="onHover(-1)"\n        [appLeftBorder]="ColorPallete[index % ColorPallete.length]" [animate]="true"\n        *ngFor="let item of _items; index as index" style="max-width: 100%!important">\n\n        <div fxLayout="row" fxFlex="1 1 calc( 100% - 50px)">\n\n          <div fxFlex fxLayout="column" fxLayoutAlign="start" class="contains">\n\n            <div class="text" fxFlex [class.text-input__loading--line]="item.loading  " [class.half]="item.loading ">\n\n\n              <span class="text" fxFlex>\n                {{ item.title  }}\n\n              </span>\n\n            </div>\n            <div class="text" fxFlex [class.text-input__loading--line]="item.loading " [class.full]="item.loading ">\n              <span class="text" fxFlex>\n                {{ item.data  }}\n              </span>\n            </div>\n\n\n\n\n\n\n          </div>\n\n\n\n        </div>\n\n        <div *ngIf="onHover$ == index" fxLayout="column" fxFlex="50px 50px">\n          <button [class.selected]="item.data == field_schema_id " ghost status="primary" nbButton\n            (click)=" item.loading  = true ">\n            <nb-icon icon="trash-outline" pack="eva"></nb-icon>\n          </button>\n        </div>\n      </nb-list-item>\n\n\n\n    </nb-list>\n  </div>\n\n\n  <div fxLayout="row"   fxLayoutGap="1rem" class="nomargin" fxLayoutAlign="center center">\n\n    <button class="margin" fxFlex nbButton ghost status="success" size="small">\n      <nb-icon icon="plus">\n      </nb-icon>\n      Add new\n\n    </button>\n  </div>\n</div>\n\n\x3c!-- <div fxFlex fxLayout="row">\n  <div fxFlex>\n    <span class="subtitle-2">\n      #{{ ( identifier || field_schema_data.field_id ) }}\n    </span>\n  </div>\n\n  <div fxFlex>\n    <span class="caption-2">\n      {{title}}\n    </span>\n  </div>\n</div> --\x3e\n\n\x3c!-- {{field_schema_data.field_id | json}} --\x3e\n\x3c!-- {{identifier | json}} --\x3e\n',styles:[".subtitle {\n  height: 1.2rem;\n  font-size: 0.8rem;\n  line-height: 1.2rem;\n  /* Needed to make it work */\n}\n\n.contains {\n  overflow: hidden;\n}\n\n.text {\n  height: 1.6rem;\n  font-size: 1rem;\n  line-height: 1.2rem;\n  padding: 0.2rem;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\nspan.text {\n  overflow: hidden;\n}\n\n.text-input__loading--line {\n  height: 1.2rem;\n  line-height: 1.2rem;\n  margin: 0.2rem;\n  padding: 0px;\n  -webkit-animation: pulse 1s infinite ease-in-out;\n  animation: pulse 1s infinite ease-in-out;\n}\n\n.half {\n  width: 50%;\n}\n\n.full {\n  width: 100%;\n}\n\n.text-input__loading div:nth-child(3) {\n  width: 150px;\n}\n\n.text-input__loading div:nth-child(5) {\n  width: 150px;\n}\n\n.text-input__loading div:nth-child(6) {\n  width: 250px;\n}\n\n.text-input__loading div:nth-child(7) {\n  width: 250px;\n}\n\n.text-input__loading div:nth-child(1) {\n  width: 50%;\n}\n\n.text-input__loading div:nth-child(2) {\n  width: 100%;\n}\n\n@-webkit-keyframes pulse {\n  0% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n  50% {\n    background-color: rgba(165, 165, 165, 0.4);\n  }\n  100% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n}\n\n@keyframes pulse {\n  0% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n  50% {\n    background-color: rgba(165, 165, 165, 0.4);\n  }\n  100% {\n    background-color: rgba(165, 165, 165, 0.1);\n  }\n}\n\n.selected {\n  background: #00b887;\n  color: #fff !important;\n}\n\n.nomargin {\n  padding: 0px;\n  margin: 0px;\n}\n\n.margin {\n  padding: 1.2rem !important;\n  margin: 0px;\n}"]})],sn);let an=class{constructor(e,t){this.componentFactoryResolver=e,this.apiService=t,this._field_schema_id$=new h.a(void 0),this._field_schema_id=this._field_schema_id$.asObservable(),this.properties=new h.a([]),this.propertyDiff=new C.a,this.field_schema_data={}}set setFieldId(e){this._field_schema_id$.next(e)}render(e,t){const n=this.componentFactoryResolver.resolveComponentFactory(re),i=this.componentTemplate;i.clear();let o=i.createComponent(n),r=this.propertyDiff.asObservable().pipe(Object(m.a)(e=>{o.instance.onPropertyChange(e)})).subscribe();o.instance.field_id=e,o.onDestroy(e=>{r.unsubscribe(),this.properties.next([])}),o.instance.properties$.asObservable().pipe(Object(g.a)(e=>(e.forEach((n,i)=>{let o=t.find(e=>e.property_identifier==n.property_identifier&&e.property_tyoe==n.property_tyoe);o&&(e[i].property_default_value=o.property_default_value)}),e))).subscribe(e=>{this.properties.next(e)}),o.instance.destroy$.pipe(Object(g.a)(e=>{})).pipe(Object(u.a)(e=>1==e.deleted)).subscribe(e=>{console.log("Destroying permanently"),o.destroy()})}ngOnInit(){this._field_schema_id.pipe(Object(u.a)(e=>!!e),Object(g.a)(e=>this.apiService.getFieldSchemaById(e).pipe(Object(g.a)(e=>(this.field_schema_data=e,this.type=M.getComponent(e.component_type).title,e.properties)),Object(g.a)(e=>null==e?[]:e),Object(m.a)(t=>{console.log("ngAfterViewInit",t),this.render(e,t)}))),Object(se.a)(e=>e)).subscribe()}onPropertyChange(e){this.properties.pipe(Object(Ve.a)(1),Object(g.a)(t=>(t.forEach((n,i)=>{n.property_identifier==e.property_identifier&&(t[i]=e)}),t)),Object(m.a)(t=>{this.properties.next(t),this.propertyDiff.next(e)})).subscribe()}save(e){return this.properties.asObservable().pipe(Object(u.a)(e=>!!e),Object(Ve.a)(1),Object(g.a)(t=>this.apiService.saveFieldProperties(e,t)),Object(se.a)(e=>e),Object(m.a)(e=>{console.log("onSave"),console.debug(e)}))}};an.ctorParameters=()=>[{type:r.p},{type:O}],an.propDecorators={componentTemplate:[{type:r.pb,args:["componentTemplate",{read:r.rb,static:!0}]}],properties:[{type:r.T,args:["getProperties"]}],setFieldId:[{type:r.H,args:["field_id"]}]},an=Object(o.a)([Object(r.n)({selector:"app-field-editor",template:'\n<div  fxFlex="1 1 100%" >\n\n\n    <ng-template  #componentTemplate></ng-template>\n</div>\n\n',styles:[""]})],an);let ln=class{constructor(){this.nodes=[{label:"Business"},{label:"MX Player",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3",expanded:!1,expandable:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]},{label:"Node 4",expandable:!0,expanded:!0,children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}]}]},{label:"Gaana"},{label:"Dineout",children:[{label:"Node 1"},{label:"Node 2"},{label:"Node 3"},{label:"Node 4"}],expandable:!0}]}ngOnInit(){}};ln.ctorParameters=()=>[],ln=Object(o.a)([Object(r.n)({selector:"app-business",template:'<ngx-tree>\n  <ngx-tree-node [label]="\'Node 2\'" [expandable]="true" [expanded]="true" [selectable]="true">\n    <ngx-tree>\n      <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 2\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n    </ngx-tree>\n  </ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 3\'" [selectable]="true"></ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 4\'" [selectable]="true" [expandable]="true" [expanded]="false">\n    <ngx-tree>\n      <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 2\'" [expandable]="true" [expanded]="true" [disabled]="true">\n        <ngx-tree>\n          <ngx-tree-node [label]="\'Node 1\'"></ngx-tree-node>\n          <ngx-tree-node [label]="\'Node 2\'"></ngx-tree-node>\n          <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n        </ngx-tree>\n      </ngx-tree-node>\n      <ngx-tree-node [label]="\'Node 3\'"></ngx-tree-node>\n\n      <ngx-input style="margin-left: 20px" size="sm" label="Project name" hint="Create a new project"></ngx-input>\n\n\n    </ngx-tree>\n\n\n  </ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Node 1\'" [selectable]="true"></ngx-tree-node>\n\n\n  <ngx-tree-node [label]="\'Create Business\'" [selectable]="true"></ngx-tree-node>\n  <ngx-input style="margin-left: 20px" size="sm" label="Business name" hint="Create a new business"></ngx-input>\n  \x3c!-- <input  placeholder="Create Business"  type="text" class="form-input"  /> --\x3e\n  \x3c!-- <input placeholder="Create Business" nbInput fieldSize="tiny" style="margin-left: 20px" value=""   status="success"> --\x3e\n\n</ngx-tree>\n\n<ngx-overlay #overlay >\n    \n  <span style="display: inline-block; line-height:\n    14px; vertical-align: middle;">\n    <h3>Click anywhere to return</h3>\n\n    <ngx-input style="margin-left: 20px" size="sm" label="Business name" hint="Create a new business"></ngx-input>\n\n\n  </span>\n</ngx-overlay>\n<button class="btn\n    btn-primary" (click)="overlay.visible = true">Show Overlay</button>\n',styles:[""]})],ln);const cn={provide:l.h,useExisting:Object(r.vb)(()=>dn),multi:!0};let dn=class{constructor(e){this.dialogService=e,this.dialogVis=!0,this.iconSelected=!0,this.icons=["activity-outline","alert-circle-outline","alert-triangle-outline","archive-outline","arrow-circle-down-outline","arrow-circle-up-outline","arrow-circle-left-outline","arrow-circle-right-outline","arrow-down-outline","arrow-up-outline","arrow-left-outline","arrow-right-outline","arrow-downward-outline","arrow-upward-outline","arrow-back-outline","arrow-forward-outline","arrow-ios-downward-outline","arrow-ios-upward-outline","arrow-ios-back-outline","arrow-ios-forward-outline","arrowhead-down-outline","arrowhead-up-outline","arrowhead-left-outline","arrowhead-right-outline","at-outline","attach-2-outline","attach-outline","award-outline","backspace-outline","bar-chart-2-outline","bar-chart-outline","battery-outline","behance-outline","bell-off-outline","bell-outline","bluetooth-outline","book-open-outline","book-outline","bookmark-outline","briefcase-outline","browser-outline","brush-outline","bulb-outline","calendar-outline","camera-outline","car-outline","cast-outline","charging-outline","checkmark-circle-2-outline","checkmark-circle-outline","checkmark-outline","checkmark-square-2-outline","checkmark-square-outline","chevron-down-outline","chevron-left-outline","chevron-right-outline","chevron-up-outline","clipboard-outline","clock-outline","close-circle-outline","close-outline","close-square-outline","cloud-download-outline","cloud-upload-outline","code-download-outline","code-outline","collapse-outline","color-palette-outline","color-picker-outline","compass-outline","copy-outline","corner-down-left-outline","corner-down-right-outline","corner-left-down-outline","corner-left-up-outline","corner-right-down-outline","corner-right-up-outline","corner-up-left-outline","corner-up-right-outline","credit-card-outline","crop-outline","cube-outline","diagonal-arrow-left-down-outline","diagonal-arrow-left-up-outline","diagonal-arrow-right-down-outline","diagonal-arrow-right-up-outline","done-all-outline","download-outline","droplet-off-outline","droplet-outline","edit-2-outline","edit-outline","email-outline","expand-outline","external-link-outline","eye-off-2-outline","eye-off-outline","eye-outline","facebook-outline","file-add-outline","file-outline","file-remove-outline","file-text-outline","film-outline","flag-outline","flash-off-outline","flash-outline","flip-outline","flip-2-outline","folder-add-outline","folder-outline","folder-remove-outline","funnel-outline","gift-outline","github-outline","globe-2-outline","globe-outline","google-outline","grid-outline","hard-drive-outline","hash-outline","headphones-outline","heart-outline","home-outline","image-outline","inbox-outline","info-outline","keypad-outline","layers-outline","layout-outline","link-2-outline","link-outline","linkedin-outline","list-outline","loader-outline","lock-outline","log-in-outline","log-out-outline","map-outline","maximize-outline","menu-2-outline","menu-arrow-outline","menu-outline","message-circle-outline","message-square-outline","mic-off-outline","mic-outline","minimize-outline","minus-circle-outline","minus-outline","minus-square-outline","monitor-outline","moon-outline","more-horizontal-outline","more-vertical-outline","move-outline","music-outline","navigation-2-outline","navigation-outline","npm-outline","options-2-outline","options-outline","pantone-outline","paper-plane-outline","pause-circle-outline","people-outline","percent-outline","person-add-outline","person-delete-outline","person-done-outline","person-outline","person-remove-outline","phone-call-outline","phone-missed-outline","phone-off-outline","phone-outline","pie-chart-outline","pin-outline","play-circle-outline","plus-circle-outline","plus-outline","plus-square-outline","power-outline","pricetags-outline","printer-outline","question-mark-circle-outline","question-mark-outline","radio-button-off-outline","radio-button-on-outline","radio-outline","recording-outline","refresh-outline","repeat-outline","rewind-left-outline","rewind-right-outline","save-outline","scissors-outline","search-outline","settings-2-outline","settings-outline","share-outline","shake-outline","shield-off-outline","shield-outline","shopping-bag-outline","shopping-cart-outline","shuffle-2-outline","shuffle-outline","skip-back-outline","skip-forward-outline","slash-outline","smartphone-outline","smiling-face-outline","speaker-outline","square-outline","star-outline","stop-circle-outline","sun-outline","swap-outline","sync-outline","text-outline","thermometer-minus-outline","thermometer-outline","thermometer-plus-outline","toggle-left-outline","toggle-right-outline","trash-2-outline","trash-outline","trending-down-outline","trending-up-outline","tv-outline","twitter-outline","umbrella-outline","undo-outline","unlock-outline","upload-outline","video-off-outline","video-outline","volume-down-outline","volume-mute-outline","volume-off-outline","volume-up-outline","wifi-off-outline","wifi-outline"],this.evaicons=new h.a(void 0).pipe(Object(se.a)(e=>Object($.a)([...this.icons]))).pipe(Object(m.a)(e=>{console.log("evaIcons",e)}),Object(G.a)(0)),this.onChange=e=>{},this.onTouched=()=>{},this.disabled=!1}selectIcon(e){this.selectedIcon=e,this.setLevel(this.selectedIcon)}toggleSelection(){this.iconSelected=!this.iconSelected}isActive(e){return e===this.selectedIcon}setLevel(e){this.selectedIcon=e,this.onChange(this.selectedIcon),this.onTouched()}writeValue(e){this.selectedIcon=e}registerOnChange(e){console.log("debugger",e),this.onChange=e}registerOnTouched(e){console.log("debugger",e),this.onTouched=e}setDisabledState(e){this.disabled=e}ngOnInit(){console.log("icon-selecto",this.selectedIcon)}open(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}};dn.ctorParameters=()=>[{type:W.i}],dn.propDecorators={dialogTpl:[{type:r.pb,args:["dialogTmpl",{static:!1}]}]},dn=Object(o.a)([Object(r.n)({selector:"app-icon-selector",template:'<div fxLayout="column">\n\n  <div fxFlex *ngIf="selectedIcon && selectedIcon != \'\' ; else chooseIcon">\n  \n    <button (click)="open(dialog)" fxFlex outline nbButton shape="round" size="tiny" status="primary">Change\n      Icon\n\n      <nb-icon [icon]="selectedIcon"></nb-icon>\n\n    </button>\n\n  </div>\n\n\n  <ng-template #chooseIcon>\n    <button (click)="open(dialog)" fxFlex outline nbButton shape="round" size="tiny" status="basic">Choose\n      Icon\n    </button>\n  </ng-template>\n\n</div>\n\n\n<ng-template #dialog let-data let-ref="dialogRef">\n  <nb-card size="medium" fxFlex="1 1 800px">\n    <nb-card-header>\n\n      <div fxFlex fxLayoutAlign="start center">\n        <span>\n          Choose Icon\n\n        </span>\n\n        <div fxFlex fxLayoutAlign="end center">\n          <ng-container *ngIf="selectedIcon">\n            <button (click)="ref.close()" outline nbButton status="success">\n              <nb-icon [icon]="selectedIcon"></nb-icon>\n\n              Save\n            </button>\n          </ng-container>\n        </div>\n\n      </div>\n    </nb-card-header>\n    <nb-card-body fxLayout="row wrap" fxLayoutAlign="center center">\n\n\n\n      <ng-container *ngIf="evaicons | async as evaicons  ; else progress ">\n\n        <ng-container *ngFor=" let icon of evaicons   ">\n\n\n          <button [outline]=" selectedIcon === icon " [ghost]="selectedIcon !== icon" (click)="selectIcon(icon)"\n            nbButton [status]=" selectedIcon !== icon ? \'basic\': \'success\' ">\n            <nb-icon [icon]="icon"></nb-icon>\n          </button>\n        </ng-container>\n      </ng-container>\n\n\n      <ng-template #progress>\n\n\n        <ngx-progress-spinner mode="indeterminate" color="#1483FF" [value]="3" [total]="100" [strokeWidth]="5">\n        </ngx-progress-spinner>\n\n      </ng-template>\n\n\n\n    </nb-card-body>\n\n    <nb-card-footer>\n\n      <div fxFlex fxLayoutAlign="end center">\n\n        <ng-container *ngIf="selectedIcon">\n\n\n          <button (click)="selectIcon(undefined)" nbButton status="danger" ghost>\n            Remove Icon\n          </button>\n\n\n        </ng-container>\n\n\n\n      </div>\n\n\n\n\n\n    </nb-card-footer>\n\n  </nb-card>\n</ng-template>\n',providers:[cn],styles:[""]})],dn);var pn=n("IwCi");const hn=[{path:"",component:Wt}];let un=class{};un=Object(o.a)([Object(r.M)({declarations:[ae,p,f,v,y,k,P,E,F,j,L,R,re,pe,A,he,ue,Re,Ae,Vt,qt,Wt,Xt,Kt,sn,an,ln,dn,B,z],exports:[ae,p,f,v,y,k,P,E,F,j,L,R,re,A,de.j],imports:[W.d,le.a,s.c,W.v,W.e,W.o,W.d,W.p,W.n,W.m,W.f,l.m,W.k,W.t,W.x,_.c,Le,W.g,l.f,W.c,W.b,W.c,W.w.forRoot(),oe.forRoot(),W.q.forRoot(),W.h.forChild(),de.j,pn.a,Gt,W.s,W.D,W.u,rn.forRoot(),W.q,W.a,de.j.forChild(hn),W.A],providers:[I,O,{provide:_.a,useClass:Ne,multi:!0},b],entryComponents:[ae,p,f,v,y,k,P,E,F,j,L,R,re,A,an]})],un)}}]);